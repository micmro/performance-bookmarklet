/* https://github.com/micmro/performance-bookmarklet by Michael Mrowetz @MicMro
   build:27/07/2019 */

!function l(i,r,d){function s(t,e){if(!r[t]){if(!i[t]){var a="function"==typeof require&&require;if(!e&&a)return a(t,!0);if(u)return u(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var o=r[t]={exports:{}};i[t][0].call(o.exports,function(e){return s(i[t][1][e]||e)},o,o.exports,l,i,r,d)}return r[t].exports}for(var u="function"==typeof require&&require,e=0;e<d.length;e++)s(d[e]);return s}({1:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n,l=(n=e("../helpers/dom"))&&n.__esModule?n:{default:n};function o(e,t,a){var n=l.default.newTag("div",{class:"legend-holder"});n.appendChild(l.default.newTag("h4",{text:t}));var o=l.default.newTag("dl",{class:"legend "+e});return a.forEach(function(e){o.appendChild(l.default.newTag("dt",{class:"colorBoxHolder",childElement:l.default.newTag("span",{},"background:"+e[1])})),o.appendChild(l.default.newTag("dd",{text:e[0]}))}),n.appendChild(o),n}var i={};i.init=function(){var e=l.default.newTag("section",{class:"resource-timing chart-holder"});e.appendChild(l.default.newTag("h3",{text:"Legend"}));var t=l.default.newTag("div",{class:"legends-group "});return t.appendChild(o("initiator-type-legend","Block color: Initiator Type",[["css","#afd899"],["iframe","#85b3f2"],["img","#bc9dd6"],["script","#e7bd8c"],["link","#89afe6"],["swf","#4db3ba"],["xmlhttprequest","#e7d98c"]])),t.appendChild(o("navigation-legend","Navigation Timing",[["Redirect","#ffff60"],["App Cache","#1f831f"],["DNS Lookup","#1f7c83"],["TCP","#e58226"],["SSL Negotiation","#c141cd"],["Time to First Byte","#1fe11f"],["Content Download","#1977dd"],["DOM Processing","#9cc"],["DOM Content Loaded","#d888df"],["On Load","#c0c0ff"]])),t.appendChild(o("resource-legend","Resource Timing",[["Stalled/Blocking","#cdcdcd"],["Redirect","#ffff60"],["App Cache","#1f831f"],["DNS Lookup","#1f7c83"],["TCP","#e58226"],["SSL Negotiation","#c141cd"],["Initial Connection (TCP)","#e58226"],["Time to First Byte","#1fe11f"],["Content Download","#1977dd"]])),e.appendChild(t),e};var r=i;a.default=r},{"../helpers/dom":9}],2:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=i(e("../data")),o=i(e("../helpers/tableLogger")),l=i(e("../helpers/waterfall"));function i(e){return e&&e.__esModule?e:{default:e}}var r={init:function(){var e=n.default.perfTiming.navigationStart,t={pageLoadTime:n.default.perfTiming.loadEventEnd-n.default.perfTiming.navigationStart,output:[]};for(var a in n.default.perfTiming)n.default.perfTiming[a]&&"number"==typeof n.default.perfTiming[a]&&(t[a]=n.default.perfTiming[a]-e,t.output.push({name:a,"time (ms)":n.default.perfTiming[a]-e}));return t.output.sort(function(e,t){return(e["time (ms)"]||0)-(t["time (ms)"]||0)}),t.blocks=[l.default.timeBlock("Total",0,t.pageLoadTime,"block-total"),l.default.timeBlock("Unload",t.unloadEventStart,t.unloadEventEnd,"block-unload"),l.default.timeBlock("Redirect ("+performance.navigation.redirectCount+"x)",t.redirectStart,t.redirectEnd,"block-redirect"),l.default.timeBlock("App cache",t.fetchStart,t.domainLookupStart,"block-appcache"),l.default.timeBlock("DNS",t.domainLookupStart,t.domainLookupEnd,"block-dns"),l.default.timeBlock("TCP",t.connectStart,t.connectEnd,"block-tcp"),l.default.timeBlock("Time to First Byte",t.requestStart,t.responseStart,"block-ttfb"),l.default.timeBlock("Response",t.responseStart,t.responseEnd,"block-response"),l.default.timeBlock("DOM Processing",t.domLoading,t.domComplete,"block-dom"),l.default.timeBlock("domContentLoaded Event",t.domContentLoadedEventStart,t.domContentLoadedEventEnd,"block-dom-content-loaded"),l.default.timeBlock("onload Event",t.loadEventStart,t.loadEventEnd,"block-onload")],t.secureConnectionStart&&t.blocks.push(l.default.timeBlock("SSL",t.connectStart,t.secureConnectionStart,"block-ssl")),t.msFirstPaint&&t.blocks.push(l.default.timeBlock("msFirstPaint Event",t.msFirstPaint,t.msFirstPaint,"block-ms-first-paint-event")),t.domInteractive&&t.blocks.push(l.default.timeBlock("domInteractive Event",t.domInteractive,t.domInteractive,"block-dom-interactive-event")),!t.redirectEnd&&!t.redirectStart&&t.fetchStart>t.navigationStart&&t.blocks.push(l.default.timeBlock("Cross-Domain Redirect (and/or other Delay)",t.navigationStart,t.fetchStart,"block-redirect")),t.blocks.push(l.default.timeBlock("Network/Server",t.navigationStart,t.responseStart,"block-network-server")),n.default.measures.forEach(function(e){t.blocks.push(l.default.timeBlock("measure:"+e.name,Math.round(e.startTime),Math.round(e.startTime+e.duration),"block-custom-measure"))}),o.default.logTables([{name:"Navigation Timeline",data:t.blocks,columns:["name","start","end","total"]},{name:"Navigation Events",data:t.output},{name:"Marks",data:n.default.marks,columns:["name","startTime","duration"]}]),l.default.setupTimeLine(Math.round(t.pageLoadTime),t.blocks,n.default.marks,[],"Navigation Timing")}},d=r;a.default=d},{"../data":8,"../helpers/tableLogger":16,"../helpers/waterfall":17}],3:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=n(e("../helpers/dom")),i=n(e("../helpers/persistance"));function n(e){return e&&e.__esModule?e:{default:e}}var o={init:function(){var e=i.default.persistanceEnabled(),t=l.default.newTag("section",{class:"page-metric chart-holder"});t.appendChild(l.default.newTag("h3",{text:"Persist Data"}));var a=l.default.newTag("label",{text:" Persist Data?"}),n=l.default.newTag("input",{type:"checkbox",id:"persist-data-checkbox",checked:e}),o=l.default.newTag("button",{text:"Dumb data to console",disabled:!e});return n.addEventListener("change",function(e){e.target.checked?(i.default.activatePersistance(),o.disabled=!1):window.confirm("this will wipe out all stored data")?(i.default.deactivatePersistance(),o.disabled=!0):e.target.checked=!0}),a.insertBefore(n,a.firstChild),o.addEventListener("click",function(e){i.default.dump(!1)}),t.appendChild(a),t.appendChild(o),e&&i.default.saveLatestMetrics(),t}},r=o;a.default=r},{"../helpers/dom":9,"../helpers/persistance":12}],4:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var r=n(e("../data")),d=n(e("../helpers/helpers")),s=n(e("../helpers/dom")),u=n(e("../helpers/pieChartHelpers"));function n(e){return e&&e.__esModule?e:{default:e}}var o={init:function(){function e(e,t,a,n,o){var l=s.default.newTag("div",{class:"pie-chart-holder",id:o||""});l.appendChild(s.default.newTag("h1",{text:e})),l.appendChild(u.default.createPieChart(t,400)),l.appendChild(s.default.newTag("p",{text:"Total Requests: "+r.default.requestsOnly.length})),a&&a.length&&a.forEach(function(e){l.appendChild(s.default.newTag("p",{text:e},"margin-top:-1em"))}),l.appendChild(u.default.createChartTable(e,t,n)),i.appendChild(l)}var i=s.default.newTag("div",{class:"pie-charts-holder chart-holder"}),a=r.default.requestsOnly.length/100,n="789abcdef",o="789abcdef",l="789abcdef";return e("Requests by Domain",r.default.requestsByDomain.map(function(e){var t=d.default.clone(e);return t.perc=t.count/a,t.label=t.domain,t.domain===location.host?t.colour="#0c0":t.domain.split(".").slice(-2).join(".")===location.host.split(".").slice(-2).join(".")?t.colour="#0a0":t.colour=d.default.getRandomColor("56789abcdef","01234567","abcdef"),t.id="reqByDomain-"+t.label.replace(/[^a-zA-Z]/g,"-"),t.durationAverage=Math.round(t.durationTotal/t.count),t.durationTotal=Math.round(t.durationTotal),t.durationTotalParallel=Math.round(t.durationTotalParallel),t}),["Domains Total: "+r.default.requestsByDomain.length],[{name:"Requests",field:"count"},{name:"Avg. Duration (ms)",field:"durationAverage"},{name:"Duration Parallel (ms)",field:"durationTotalParallel"},{name:"Duration Sum (ms)",field:"durationTotal"}],"pie-request-by-domain"),e("Requests by Initiator Type",r.default.initiatorTypeCounts.map(function(e){return e.perc=e.count/a,e.label=e.initiatorType,e.colour=d.default.getInitiatorOrFileTypeColour(e.initiatorType,d.default.getRandomColor(n,o,l)),e.id="reqByInitiatorType-"+e.label.replace(/[^a-zA-Z]/g,"-"),e})),e("Requests by Initiator Type (host/external domain)",r.default.initiatorTypeCountHostExt.map(function(e){var t=e.initiatorType.split(" ");return e.perc=e.count/a,e.label=e.initiatorType,e.colour=d.default.getInitiatorOrFileTypeColour(t[0],d.default.getRandomColor(n,o,l),"(host)"!==t[1]),e.id="reqByInitiatorTypeLocEx-"+e.label.replace(/[^a-zA-Z]/g,"-"),e}),["Requests to Host: "+r.default.hostRequests,"Host: "+location.host]),e("Requests by File Type",r.default.fileTypeCounts.map(function(e){return e.perc=e.count/a,e.label=e.fileType,e.colour=d.default.getInitiatorOrFileTypeColour(e.fileType,d.default.getRandomColor(n,o,l)),e.id="reqByFileType-"+e.label.replace(/[^a-zA-Z]/g,"-"),e})),e("Requests by File Type (host/external domain)",r.default.fileTypeCountHostExt.map(function(e){var t=e.fileType.split(" ");return e.perc=e.count/a,e.label=e.fileType,e.colour=d.default.getInitiatorOrFileTypeColour(t[0],d.default.getRandomColor(n,o,l),"(host)"!==t[1]),e.id="reqByFileType-"+e.label.replace(/[^a-zA-Z]/g,"-"),e}),["Requests to Host: "+r.default.hostRequests,"Host: "+location.host]),i}},l=o;a.default=l},{"../data":8,"../helpers/dom":9,"../helpers/helpers":10,"../helpers/pieChartHelpers":13}],5:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i=o(e("../data")),n=o(e("../helpers/dom")),r=o(e("../helpers/waterfall"));function o(e){return e&&e.__esModule?e:{default:e}}function d(e){var o={pageLoadTime:i.default.perfTiming.loadEventEnd-i.default.perfTiming.responseStart,lastResponseEnd:i.default.perfTiming.loadEventEnd-i.default.perfTiming.responseStart};for(var t in i.default.perfTiming)i.default.perfTiming[t]&&"number"==typeof i.default.perfTiming[t]&&(o[t]=i.default.perfTiming[t]-i.default.perfTiming.navigationStart);var a=r.default.timeBlock("domContentLoaded Event",o.domContentLoadedEventStart,o.domContentLoadedEventEnd,"block-dom-content-loaded"),n=r.default.timeBlock("Onload Event",o.loadEventStart,o.loadEventEnd,"block-onload"),l=[r.default.timeBlock("Unload",o.unloadEventStart,o.unloadEventEnd,"block-unload"),r.default.timeBlock("Redirect",o.redirectStart,o.redirectEnd,"block-redirect"),r.default.timeBlock("App cache",o.fetchStart,o.domainLookupStart,"block-appcache"),r.default.timeBlock("DNS",o.domainLookupStart,o.domainLookupEnd,"block-dns"),r.default.timeBlock("TCP",o.connectStart,o.connectEnd,"block-tcp"),r.default.timeBlock("Timer to First Byte",o.requestStart,o.responseStart,"block-ttfb"),r.default.timeBlock("Response",o.responseStart,o.responseEnd,"block-response"),r.default.timeBlock("DOM Processing",o.domLoading,o.domComplete,"block-dom"),a,n];return o.secureConnectionStart&&l.push(r.default.timeBlock("SSL",o.connectStart,o.secureConnectionStart,"block-ssl")),o.msFirstPaint&&l.push(r.default.timeBlock("msFirstPaint Event",o.msFirstPaint,o.msFirstPaint,"block-ms-first-paint-event")),o.domInteractive&&l.push(r.default.timeBlock("domInteractive Event",o.domInteractive,o.domInteractive,"block-dom-interactive-event")),!o.redirectEnd&&!o.redirectStart&&o.fetchStart>o.navigationStart&&l.push(r.default.timeBlock("Cross-Domain Redirect",o.navigationStart,o.fetchStart,"block-redirect")),o.blocks=[r.default.timeBlock("Navigation API total",0,o.loadEventEnd,"block-navigation-api-total",l)],i.default.allResourcesCalc.filter(function(e){return e.startTime<o.loadEventEnd+15e3}).filter(e||function(){return!0}).forEach(function(a,e){var t=[r.default.timeBlock("Redirect",a.redirectStart,a.redirectEnd,"block-redirect"),r.default.timeBlock("DNS Lookup",a.domainLookupStart,a.domainLookupEnd,"block-dns"),r.default.timeBlock("Initial Connection (TCP)",a.connectStart,a.connectEnd,"block-dns"),r.default.timeBlock("secureConnect",a.secureConnectionStart||void 0,a.connectEnd,"block-ssl"),r.default.timeBlock("Timer to First Byte",a.requestStart,a.responseStart,"block-ttfb"),r.default.timeBlock("Content Download",a.responseStart||void 0,a.responseEnd,"block-response")],n=[0,a.redirectStart,a.domainLookupStart,a.connectStart,a.secureConnectionStart,a.requestStart,a.responseStart].reduce(function(e,t){return 0<t&&(t<e||e<=0)&&t!=a.startTime?t:e});a.startTime<n&&t.unshift(r.default.timeBlock("Stalled/Blocking",a.startTime,n,"block-blocking")),o.blocks.push(r.default.timeBlock(a.name,a.startTime,a.responseEnd,"block-"+a.initiatorType,t,a)),o.lastResponseEnd=Math.max(o.lastResponseEnd,a.responseEnd)}),{loadDuration:Math.round(Math.max(o.lastResponseEnd,i.default.perfTiming.loadEventEnd-i.default.perfTiming.navigationStart)),blocks:o.blocks,bg:[a,n]}}var l={};l.init=function(){var o=d(),l=r.default.setupTimeLine(o.loadDuration,o.blocks,i.default.marks,o.bg,"Resource Timing");if(1<i.default.requestsByDomain.length){var t=n.default.newTag("select",{class:"domain-selector",onchange:function(){var t=(void 0).options[(void 0).selectedIndex].value;o="all"===t?d():d(function(e){return e.domain===t});var e=r.default.setupTimeLine(o.loadDuration,o.blocks,i.default.marks,o.bg,"Temp"),a=l.getElementsByClassName("water-fall-chart")[0],n=e.getElementsByClassName("water-fall-chart")[0];l.replaceChild(n,a)}});t.appendChild(n.default.newTag("option",{text:"show all",value:"all"})),i.default.requestsByDomain.forEach(function(e){t.appendChild(n.default.newTag("option",{text:e.domain}))});var e=l.getElementsByClassName("water-fall-chart")[0];e.parentNode.insertBefore(t,e)}return l};var s=l;a.default=s},{"../data":8,"../helpers/dom":9,"../helpers/waterfall":17}],6:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=n(e("../data")),l=n(e("../helpers/dom"));function n(e){return e&&e.__esModule?e:{default:e}}var i={init:function(){function e(e,t,a){a=a||60;var n=l.default.newTag("dl",{class:"summary-tile"});return n.appendChild(l.default.newTag("dt",{childElement:e})),n.appendChild(l.default.newTag("dd",{childElement:t},"font-size:"+a+"px;")),n}function t(e,t,a){e.appendChild(l.default.newTag("dt",{childElement:t})),e.appendChild(l.default.newTag("dd",{text:a}))}var a=l.default.newTag("section",{class:"tiles-holder chart-holder"}),n=l.default.newTag("dl",{class:"summary-tile-appendix"});return[e("Requests",o.default.requestsOnly.length||"0"),e("Domains",o.default.requestsByDomain.length||"0"),e(l.default.combineNodes("Subdomains of ",l.default.newTag("abbr",{title:"Top Level Domain",text:"TLD"})),o.default.hostSubdomains||"0"),e(l.default.combineNodes("Requests to ",l.default.newTag("span",{title:location.host,text:"Host"})),o.default.hostRequests||"0"),e(l.default.combineNodes(l.default.newTag("abbr",{title:"Top Level Domain",text:"TLD"})," & Subdomain Requests"),o.default.currAndSubdomainRequests||"0"),e("Total",o.default.perfTiming.loadEventEnd-o.default.perfTiming.navigationStart+"ms",40),e("Time to First Byte",o.default.perfTiming.responseStart-o.default.perfTiming.navigationStart+"ms",40),e(l.default.newTag("span",{title:"domLoading to domContentLoadedEventStart",text:"DOM Content Loading"}),o.default.perfTiming.domContentLoadedEventStart-o.default.perfTiming.domLoading+"ms",40),e(l.default.newTag("span",{title:"domLoading to loadEventStart",text:"DOM Processing"}),o.default.perfTiming.domComplete-o.default.perfTiming.domLoading+"ms",40)].forEach(function(e){a.appendChild(e)}),0<o.default.allResourcesCalc.length&&(a.appendChild(e(l.default.newTag("span",{title:o.default.slowestCalls[0].name,text:"Slowest Call"}),l.default.newTag("span",{title:o.default.slowestCalls[0].name,text:Math.floor(o.default.slowestCalls[0].duration)+"ms"}),40)),a.appendChild(e("Average Call",o.default.average+"ms",40))),t(n,l.default.newTag("abbr",{title:"Top Level Domain",text:"TLD"},location.host.split(".").slice(-2).join("."))),t(n,l.default.newTextNode("Host:"),location.host),t(n,l.default.newTextNode("document.domain:"),document.domain),a.appendChild(n),a}},r=i;a.default=r},{"../data":8,"../helpers/dom":9}],7:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=o(e("../data")),s=o(e("../helpers/dom"));function o(e){return e&&e.__esModule?e:{default:e}}var l={init:function(){var d=n.default.requestsOnly.reduce(function(e,t){var a,n=e[t.fileType];return a=(a=(n=n||(e[t.fileType]={fileType:t.fileType,count:0,initiatorType:{},requestsToHost:0,requestsToExternal:0})).initiatorType[t.initiatorType])||(n.initiatorType[t.initiatorType]={initiatorType:t.initiatorType,count:0,requestsToHost:0,requestsToExternal:0}),n.count++,a.count++,t.isRequestToHost?(n.requestsToHost++,a.requestsToHost++):(n.requestsToExternal++,a.requestsToExternal++),e},{}),e=s.default.newTag("section",{class:"table-section-holder chart-holder"});return e.appendChild(s.default.newTag("h1",{text:"Request FileTypes & Initiators"})),e.appendChild(s.default.tableFactory("filetypes-and-intiators-table",function(t){return["FileType","Count","Count Internal","Count External","Initiator Type","Count by Initiator Type","Initiator Type Internal","Initiator Type External"].forEach(function(e){t.appendChild(s.default.newTag("th",{text:e,width:0<e.indexOf("ternal")?"12%":""}))}),t},function(r){return Object.keys(d).forEach(function(e,t){var n=d[e],o=Object.keys(n.initiatorType),a=n.initiatorType[o[0]],l=o.length,i=s.default.newTag("tr",{class:"file-type-row "+(n.fileType||"other")+"-light"});[n.fileType,n.count,n.requestsToHost,n.requestsToExternal,a.initiatorType,a.count,a.requestsToHost,a.requestsToExternal].forEach(function(e,t){var a={text:e};t<4&&1<o.length?a.rowSpan=l:4<=t&&(a.class=(o[0]||"other")+"-light"),i.appendChild(s.default.newTag("td",a))}),r.appendChild(i),o.slice(1).forEach(function(e){var t=n.initiatorType[e],a=s.default.newTag("tr",{class:"initiator-type-more "+(e||"other")+"-light"});a.appendChild(s.default.newTag("td",{text:e})),a.appendChild(s.default.newTag("td",{text:t.count})),a.appendChild(s.default.newTag("td",{text:t.requestsToHost})),a.appendChild(s.default.newTag("td",{text:t.requestsToExternal})),r.appendChild(a)})}),r})),e}},i=l;a.default=i},{"../data":8,"../helpers/dom":9}],8:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n,d=(n=e("./helpers/helpers"))&&n.__esModule?n:{default:n};var o=!0,l={resources:[],marks:[],measures:[],perfTiming:[],allResourcesCalc:[],isValid:function(){return o}};!function(){o=function(){if(window.performance&&void 0!==window.performance.getEntriesByType)l.resources=window.performance.getEntriesByType("resource"),l.marks=window.performance.getEntriesByType("mark"),l.measures=window.performance.getEntriesByType("measure");else{if(!window.performance||void 0===window.performance.webkitGetEntriesByType)return alert("Oups, looks like this browser does not support the Resource Timing API\ncheck http://caniuse.com/#feat=resource-timing to see the ones supporting it \n\n"),!1;l.resources=window.performance.webkitGetEntriesByType("resource"),l.marks=window.performance.webkitGetEntriesByType("mark"),l.measures=window.performance.webkitGetEntriesByType("measure")}return window.performance.timing?(l.perfTiming=window.performance.timing,!(l.perfTiming.loadEventEnd-l.perfTiming.navigationStart<0)||(alert("Page is still loading - please try again when page is loaded."),!1)):(alert("Oups, looks like this browser does not support performance timing"),!1)}(),l.allResourcesCalc=l.resources.filter(function(e){return!e.name.match(/http[s]?\:\/\/(micmro|nurun).github.io\/performance-bookmarklet\/.*/)}).map(function(e,t,a){var n,o,l;l=0===e.name.indexOf("http")?(o=(n=e.name.match(/:\/\/(.[^/]+)([^?]*)\??(.*)/))[2].split("/").pop()).substr((Math.max(0,o.lastIndexOf("."))||1/0)+1):(n=["",location.host],e.name.split(":")[0]);var i={name:e.name,domain:n[1],initiatorType:e.initiatorType||l||"SourceMap or Not Defined",fileExtension:l||"XHR or Not Defined",loadtime:e.duration,fileType:d.default.getFileType(l,e.initiatorType),isRequestToHost:n[1]===location.host};for(var r in e)"function"!=typeof e[r]&&(i[r]=e[r]);return e.requestStart&&(i.requestStartDelay=e.requestStart-e.startTime,i.dns=e.domainLookupEnd-e.domainLookupStart,i.tcp=e.connectEnd-e.connectStart,i.ttfb=e.responseStart-e.startTime,i.requestDuration=e.responseStart-e.requestStart),e.secureConnectionStart&&(i.ssl=e.connectEnd-e.secureConnectionStart),i}),l.requestsOnly=l.allResourcesCalc.filter(function(e){return 0===e.name.indexOf("http")&&!e.name.match(/js.map$/)}),l.initiatorTypeCounts=d.default.getItemCount(l.requestsOnly.map(function(e,t,a){return e.initiatorType||e.fileExtension}),"initiatorType"),l.initiatorTypeCountHostExt=d.default.getItemCount(l.requestsOnly.map(function(e,t,a){return(e.initiatorType||e.fileExtension)+" "+(e.isRequestToHost?"(host)":"(external)")}),"initiatorType"),l.requestsByDomain=d.default.getItemCount(l.requestsOnly.map(function(e,t,a){return e.domain}),"domain"),l.fileTypeCountHostExt=d.default.getItemCount(l.requestsOnly.map(function(e,t,a){return e.fileType+" "+(e.isRequestToHost?"(host)":"(external)")}),"fileType"),l.fileTypeCounts=d.default.getItemCount(l.requestsOnly.map(function(e,t,a){return e.fileType}),"fileType");var n={};l.requestsOnly.forEach(function(t){var e=l.requestsByDomain.filter(function(e){return e.domain==t.domain})[0]||{},a=n[t.domain]||0;t.duration=e.duration||t.responseEnd-t.startTime,a<=t.startTime?e.durationTotalParallel=(e.durationTotalParallel||0)+t.duration:a<t.responseEnd&&(e.durationTotalParallel=(e.durationTotalParallel||0)+(t.responseEnd-a)),n[t.domain]=t.responseEnd||0,e.durationTotal=(e.durationTotal||0)+t.duration}),l.hostRequests=l.requestsOnly.filter(function(e){return e.domain===location.host}).length,l.currAndSubdomainRequests=l.requestsOnly.filter(function(e){return e.domain.split(".").slice(-2).join(".")===location.host.split(".").slice(-2).join(".")}).length,l.crossDocDomainRequests=l.requestsOnly.filter(function(e){return!d.default.endsWith(e.domain,document.domain)}).length,l.hostSubdomains=l.requestsByDomain.filter(function(e){return d.default.endsWith(e.domain,location.host.split(".").slice(-2).join("."))&&e.domain!==location.host}).length,l.slowestCalls=[],l.average=void 0,0<l.allResourcesCalc.length&&(l.slowestCalls=l.allResourcesCalc.filter(function(e){return e.name!==location.href}).sort(function(e,t){return t.duration-e.duration}),l.average=Math.floor(l.slowestCalls.reduceRight(function(e,t){return"number"!=typeof e?e.duration+t.duration:e+t.duration})/l.slowestCalls.length))}();var i=l;a.default=i},{"./helpers/helpers":10}],9:[function(e,t,a){"use strict";function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;function i(e){return document.createTextNode(e)}function r(e,t,a){t=t||{};var n=document.createElement(e);for(var o in t)"text"!=o&&(n[o]=t[o]);return t.text?n.textContent=t.text:t.childElement&&("object"===l(t.childElement)?t.childElement instanceof NodeList?Array.prototype.slice.call(t.childElement,0).forEach(function(e){n.appendChild(e)}):n.appendChild(t.childElement):n.appendChild(i(t.childElement))),t.class&&(n.className=t.class),n.style.cssText=a||"",n}var n={newTextNode:i,newTag:r,tableFactory:function(e,t,a){var n=r("div",{id:e||"",class:"table-holder"}),o=r("table"),l=r("thead");return l.appendChild(t(r("tr"))),o.appendChild(l),o.appendChild(a(r("tbody"))),n.appendChild(o),n},combineNodes:function(e,t){var a=document.createElement("div");return"object"===l(e)?a.appendChild(e):"string"==typeof e&&a.appendChild(i(e)),"object"===l(t)?a.appendChild(t):"string"==typeof t&&a.appendChild(i(t)),a.childNodes},addClass:function(e,t){return e.classList?e.classList.add(t):e.setAttribute("class",e.getAttribute("class")+" "+t),e},removeClass:function(e,t){return e.classList?e.classList.remove(t):e.setAttribute("class",e.getAttribute("class").replace(new RegExp("(\\s|^)"+t+"(\\s|$)","g"),"$2")),e}};a.default=n},{}],10:[function(e,t,a){"use strict";function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i={getFileType:function(e,t){if(e)switch(e){case"jpg":case"jpeg":case"png":case"gif":case"webp":case"svg":case"ico":return"image";case"js":return"js";case"css":return"css";case"html":return"html";case"woff":case"woff2":case"ttf":case"eot":case"otf":return"font";case"swf":return"flash";case"map":return"source-map"}if(t)switch(t){case"xmlhttprequest":return"ajax";case"img":return"image";case"script":return"js";case"internal":case"iframe":return"html";default:return"other"}return t},getRandomColor:function(e,t,a){for(var n=[e||"0123456789ABCDEF",t||"0123456789ABCDEF",a||"0123456789ABCDEF"],o="#",l=0,i=0;i<6;i++)o+=n[l=Math.floor(i/2)].split("")[Math.floor(Math.random()*n[l].length)];return o},endsWith:function(e,t){return-1!==e.indexOf(t,e.length-t.length)}};i.getInitiatorOrFileTypeColour=function(e,t,a){var n=t||"#bebebe";switch(e){case"css":n="#afd899";break;case"iframe":case"html":n="#85b3f2";break;case"img":case"image":n="#bc9dd6";break;case"script":case"js":n="#e7bd8c";break;case"link":n="#89afe6";break;case"swf":n="#4db3ba";break;case"font":n="#e96859";break;case"xmlhttprequest":case"ajax":n="#e7d98c"}return!0===a?function(e,t){return"#"+(parseInt(e.substr(1,2),16)+t).toString(16)+(parseInt(e.substr(3,2),16)+t).toString(16)+(parseInt(e.substr(5,2),16)+t).toString(16)}(n,-5):n},i.getItemCount=function(e,t){var a,n={},o=[];for(var l in e.forEach(function(e){n[e]=n[e]?n[e]+1:1}),n)(a={})[t||"key"]=l,a.count=n[l],o.push(a);return o.sort(function(e,t){return e.count<t.count?1:-1})},i.clone=function(e){var t;if(null==e||"object"!=l(e))return e;if(e instanceof Date)return(t=new Date).setTime(e.getTime()),t;if(e instanceof Array){t=[];for(var a=0,n=e.length;a<n;a++)t[a]=i.clone(e[a]);return t}if(e instanceof Object){for(var o in t={},e)e.hasOwnProperty(o)&&(t[o]=i.clone(e[o]));return t}throw new Error("Unable to helper.clone obj")};var n=i;a.default=n},{}],11:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n,o,l,i,r,d=(n=e("../helpers/dom"))&&n.__esModule?n:{default:n},s=e("../helpers/style");function u(){if(l)for(i=r.getElementById("perfbook-content");i.firstChild;)i.removeChild(i.firstChild);else{l=d.default.newTag("div",{id:"perfbook-holder"}),i=d.default.newTag("div",{id:"perfbook-content"}),window.outputContent;var e=d.default.newTag("button",{class:"perfbook-close",text:"close"});e.addEventListener("click",function(){o.parentNode.removeChild(o)}),l.appendChild(e),l.appendChild(i)}}function c(e){i.appendChild(e)}var f={setup:function(e){o=document.getElementById("perfbook-iframe");function t(){u(),e(c),r.body.appendChild(l),"hidden"!=getComputedStyle(document.body).overflow?o.style.height=l.clientHeight+36+"px":o.style.height="100%"}o?(r=o.contentWindow.document,l=r.getElementById("perfbook-holder"),u(),e(c),t()):(o=d.default.newTag("iframe",{id:"perfbook-iframe",onload:function(){r=o.contentWindow.document;var e=d.default.newTag("style",{type:"text/css",text:s.style});r.head.appendChild(e),t()}},"position:absolute; top:1%; right:1%; margin-bottom:1em; left:1%; z-index:6543210; width:98%; border:0; box-shadow:0 0 25px 0 rgba(0,0,0,0.5); background:#fff;"),document.body.appendChild(o))},getOutputIFrame:function(){return r}};a.default=f},{"../helpers/dom":9,"../helpers/style":14}],12:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n,o=(n=e("../data"))&&n.__esModule?n:{default:n};function l(){return JSON.parse(localStorage.getItem(i))||[]}var i="performance-bookmarklet-metrics",r={};r.persistanceEnabled=function(){return!!JSON.parse(localStorage.getItem(i))},r.activatePersistance=function(){r.saveLatestMetrics()},r.deactivatePersistance=function(){r.dump()},r.saveLatestMetrics=function(){var e=l();e.push({timestamp:new Date(o.default.perfTiming.navigationStart).toISOString(),url:window.location.href,requests:o.default.requestsOnly.length,domains:o.default.requestsByDomain.length,subDomainsOfTld:o.default.hostSubdomains,requestsToHost:o.default.hostRequests,tldAndSubdomainRequests:o.default.currAndSubdomainRequests,total:o.default.perfTiming.loadEventEnd-o.default.perfTiming.navigationStart,timeToFirstByte:o.default.perfTiming.responseStart-o.default.perfTiming.navigationStart,domContentLoading:o.default.perfTiming.domContentLoadedEventStart-o.default.perfTiming.domLoading,domProcessing:o.default.perfTiming.domComplete-o.default.perfTiming.domLoading}),localStorage.setItem(i,JSON.stringify(e))},r.dump=function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],t=l();0!==t.length?(!0===e&&(localStorage.removeItem(i),console.log("Storage for %s has been cleared",i)),window.PerformanceBookmarklet={persistedData:t},console.table?(console.log("Data also accessible via %cwindow.PerformanceBookmarklet.persistedData%c:\n\n%o","font-family:monospace","font-family:inherit",window.PerformanceBookmarklet),console.table(t)):(console.log("Data also accessible via window.PerformanceBookmarklet.persistedData"),console.dir(window.PerformanceBookmarklet.persistedData))):console.log("There are no page metrics. Please tick the 'Persist Data' checkbox.")};var d=r;a.default=d},{"../data":8}],13:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i=n(e("../helpers/helpers")),v=n(e("../helpers/svg")),o=n(e("../helpers/dom"));function n(e){return e&&e.__esModule?e:{default:e}}var l,r={},y=2*Math.PI/100,d=(l=.98*window.innerWidth-64)<700?350:l<800?l/2-72:l/3-72;r.createPieChart=function(e,a){var n=0,t=v.default.newEl("svg:svg",{viewBox:"0 0 "+a+" "+a,class:"pie-chart"},"max-height:"+d+"px;"),o=v.default.newEl("g",{},"pointer-events:none; font-weight:bold;"),l=v.default.newEl("g");return e.forEach(function(e){var t=function(e,t,a,n,o,l){var i=t/2,r=a+(n*y-.001),d=a+(n/2*y-.001),s=i+i*Math.sin(a),u=i-i*Math.cos(a),c=i+i*Math.sin(r),f=i-i*Math.cos(r),p=i+.85*i*Math.sin(d),m=i-.85*i*Math.cos(d),h="M "+i+","+i+" L "+s+","+u+" A "+i+","+i+" 0 "+(r-a>Math.PI?1:0)+" 1 "+c+","+f+" Z",g=v.default.newEl("path",{id:e,d:h,fill:l});if(g.appendChild(v.default.newEl("title",{text:o})),g.addEventListener("mouseenter",function(e){e.target.style.opacity="0.5",e.target.ownerDocument.getElementById(e.target.getAttribute("id")+"-table").style.backgroundColor="#ccc"}),g.addEventListener("mouseleave",function(e){e.target.style.opacity="1",e.target.ownerDocument.getElementById(e.target.getAttribute("id")+"-table").style.backgroundColor="transparent"}),10<n){var b=v.default.newTextEl(o,m);return d<Math.PI?b.setAttribute("x",p-v.default.getNodeTextWidth(b)):b.setAttribute("x",p),{path:g,wedgeLabel:b,endAngle:r}}return{path:g,endAngle:r}}(e.id,a,n,e.perc,e.label+" ("+e.count+")",e.colour||i.default.getRandomColor());l.appendChild(t.path),n=t.endAngle,t.wedgeLabel&&o.appendChild(t.wedgeLabel)}),l.appendChild(v.default.newEl("circle",{cx:a/2,cy:a/2,r:.05*a,fill:"#fff"})),t.appendChild(l),t.appendChild(o),t},r.createChartTable=function(e,t,n){return n=n||[{name:"Requests",field:"count"}],o.default.tableFactory("",function(t){return t.appendChild(o.default.newTag("th",{text:e,class:"text-left"})),n.forEach(function(e){t.appendChild(o.default.newTag("th",{text:e.name,class:"text-right"}))}),t.appendChild(o.default.newTag("th",{text:"Percentage",class:"text-right"})),t},function(e){return t.forEach(function(t){var a=o.default.newTag("tr",{id:t.id+"-table"});a.appendChild(o.default.newTag("td",{text:t.label})),n.forEach(function(e){a.appendChild(o.default.newTag("td",{text:t[e.field].toString(),class:"text-right"}))}),a.appendChild(o.default.newTag("td",{text:t.perc.toPrecision(2)+"%",class:"text-right"})),e.appendChild(a)}),e})};var s=r;a.default=s},{"../helpers/dom":9,"../helpers/helpers":10,"../helpers/svg":15}],14:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.style=void 0;a.style="body {overflow: auto; background: #fff; font:normal 12px/18px sans-serif; color:#333;} * {box-sizing:border-box;} svg {font:normal 12px/18px sans-serif;} th {text-align: left;} button {cursor:pointer;} button:disabled {cursor:default;} #perfbook-holder {overflow: hidden; width:100%; padding:1em 2em;} #perfbook-content {position:relative;} .perfbook-close {position:absolute; top:0; right:0; padding:1em; z-index:1; background:transparent; border:0; cursor:pointer;} .full-width {width:100%;} .chart-holder {margin: 5em 0;} h1 {font:bold 18px/18px sans-serif; margin:1em 0; color:#666;} .text-right {text-align: right;} .text-left {text-align: left;} .css {background: #afd899;} .iframe, .html, .internal {background: #85b3f2;} .img, .image {background: #bc9dd6;} .script, .js {background: #e7bd8c;} .link {background: #89afe6;} .swf, .flash {background: #4db3ba;} .font {background: #e96859;} .xmlhttprequest, .ajax {background: #e7d98c;} .other {background: #bebebe;} .css-light {background: #b9cfa0;} .iframe-light, .html-light, .internal-light {background: #c2d9f9;} .img-light, .image-light {background: #deceeb;} .script-light, .js-light {background: #f3dec6;} .link-light {background: #c4d7f3;} .swf-light, .flash-light {background: #a6d9dd;} .font-light {background: #f4b4ac;} .xmlhttprequest-light, .ajax-light {background: #f3ecc6;} .other-light {background: #dfdfdf;} .block-css {fill: #afd899;} .block-iframe, .block-html, .block-internal {fill: #85b3f2;} .block-img, .block-image {fill: #bc9dd6;} .block-script, .block-js {fill: #e7bd8c;} .block-link {fill: #89afe6;} .block-swf, .block-flash {fill: #4db3ba;} .block-font {fill: #e96859;} .block-xmlhttprequest, .block-ajax {fill: #e7d98c;} .block-other {fill: #bebebe;} .block-total {fill: #ccc;} .block-unload {fill: #909;} .block-redirect {fill: #ffff60;} .block-appcache {fill: #1f831f;} .block-dns {fill: #1f7c83;} .block-tcp {fill: #e58226;} .block-ttfb {fill: #1fe11f;} .block-response {fill: #1977dd;} .block-dom {fill: #9cc;} .block-dom-content-loaded {fill: #d888df;} .block-onload {fill: #c0c0ff;} .block-ssl {fill: #c141cd; } .block-ms-first-paint-event {fill: #8fbc83; } .block-dom-interactive-event {fill: #d888df; } .block-network-server {fill: #8cd18c; } .block-custom-measure {fill: #f00; } .block-navigation-api-total {fill: #ccc;} .block-blocking {fill: #cdcdcd;} .block-undefined {fill: #0f0;} .tiles-holder {margin: 2em -18px 2em 0; display: -webkit-box; display: -moz-box; display: -ms-flexbox; display: -webkit-flex; display: flex; -webkit-flex-flow: row wrap; flex-flow: row wrap; } .summary-tile { flex-grow: 1; width:250px; background:#ddd; padding: 1em; margin:0 18px 1em 0; color:#666; text-align:center;} .summary-tile dt {font-weight:bold; font-size:16px; display:block; line-height:1.2em; min-height:2.9em; padding:0 0 0.5em;} .summary-tile dd {font-weight:bold; line-height:60px; margin:0;} .summary-tile-appendix {float:left; clear:both; width:100%; font-size:10px; line-height:1.1em; color:#666;} .summary-tile-appendix dt {float:left; clear:both;} .summary-tile-appendix dd {float:left; margin:0 0 0 1em;} .pie-charts-holder {margin-right: -72px; display: -webkit-box; display: -moz-box; display: -ms-flexbox; display: -webkit-flex; display: flex; -webkit-flex-flow: row wrap; flex-flow: row wrap;} .pie-chart-holder {flex-grow: 1; width:350px; max-width: 600px; margin: 0 72px 0 0;} .pie-chart-holder h1 {min-height:2em;} .pie-chart {width:100%;} .table-holder {overflow-x:auto} .table-holder table {float:left; width:100%; font-size:12px; line-height:18px;} .table-holder th, .table-holder td {line-height: 1em; margin:0; padding:0.25em 0.5em 0.25em 0;} #pie-request-by-domain {flex-grow: 2; width:772px; max-width: 1272px;} #filetypes-and-intiators-table {margin: 2em 0 5em;} #filetypes-and-intiators-table table {vertical-align: middle; border-collapse: collapse;} #filetypes-and-intiators-table td {padding:0.5em; border-right: solid 1px #fff;} #filetypes-and-intiators-table td:last-child {padding-right: 0; border-right:0;} #filetypes-and-intiators-table .file-type-row td {border-top: solid 10px #fff;} #filetypes-and-intiators-table .file-type-row:first-child td {border-top: none;} .water-fall-holder {fill:#ccc;} .water-fall-chart {width:100%; background:#f0f5f0;} .water-fall-chart .marker-holder {width:100%;} .water-fall-chart .line-holder {stroke-width:1; stroke: #ccc; stroke-opacity:0.5;} .water-fall-chart .line-holder.active {stroke: #69009e; stroke-width:2; stroke-opacity:1;} .water-fall-chart .labels {width:100%;} .water-fall-chart .labels .inner-label {pointer-events: none;} .water-fall-chart .time-block.active {opacity: 0.8;} .water-fall-chart .line-end, .water-fall-chart .line-start {display: none; stroke-width:1; stroke-opacity:0.5; stroke: #000;} .water-fall-chart .line-end.active, .water-fall-chart .line-start.active {display: block;} .water-fall-chart .mark-holder text {-webkit-writing-mode: tb; writing-mode:vertical-lr; writing-mode: tb;} .time-scale line {stroke:#0cc; stroke-width:1;} .time-scale text {font-weight:bold;} .domain-selector {float:right; margin: -35px 0 0 0;} .navigation-timing {} .legends-group { display: -webkit-box; display: -moz-box; display: -ms-flexbox; display: -webkit-flex; display: flex; -webkit-flex-flow: row wrap; flex-flow: row wrap; } .legends-group .legend-holder { flex-grow: 1; width:250px; padding:0 1em 1em; } .legends-group .legend-holder h4 { margin: 0; padding: 0; } .legend dt {float: left; clear: left; padding: 0 0 0.5em;} .legend dd {float: left; display: inline-block; margin: 0 1em; line-height: 1em;} .legend .colorBoxHolder span {display: inline-block; width: 15px; height: 1em;} .page-metric {} .page-metric button {margin-left: 2em;}"},{}],15:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n,o=(n=e("../helpers/iFrameHolder"))&&n.__esModule?n:{default:n};function l(e,t,a){var n=document.createElementNS("http://www.w3.org/2000/svg",e);for(var o in t=t||{})"text"!=o&&n.setAttributeNS(null,o,t[o]);return n.textContent=t.text||"",n.style.cssText=a||"",n}var i={newEl:l,newTextEl:function(e,t,a){return l("text",{fill:"#111",y:t,text:e},(a||"")+" text-shadow:0 0 4px #fff;")},getNodeTextWidth:function(e){var t=l("svg:svg",{},"visibility:hidden;");t.appendChild(e),o.default.getOutputIFrame().body.appendChild(t);var a=e.getBBox().width;return t.parentNode.removeChild(t),a}};a.default=i},{"../helpers/iFrameHolder":11}],16:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n={logTable:function(e){0<e.data.length&&console.table&&(console.log("\n\n\n"+e.name+":"),console.table(e.data,e.columns))},logTables:function(e){e.forEach(n.logTable)}},o=n;a.default=o},{}],17:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var v=n(e("../helpers/svg")),y=n(e("../helpers/dom"));function n(e){return e&&e.__esModule?e:{default:e}}var o={timeBlock:function(e,t,a,n,o,l){return{name:e,start:t,end:a,total:"number"!=typeof t||"number"!=typeof a?void 0:a-t,cssClass:n,segments:o,rawResource:l}}};o.setupTimeLine=function(i,e,d,t,a){function u(e){var t=e.target;y.default.addClass(t,"active");var a=t.x.baseVal.valueInSpecifiedUnits+t.width.baseVal.valueInSpecifiedUnits+"%",n=t.x.baseVal.valueInSpecifiedUnits+"%";g.x1.baseVal.valueAsString=a,g.x2.baseVal.valueAsString=a,b.x1.baseVal.valueAsString=n,b.x2.baseVal.valueAsString=n,y.default.addClass(g,"active"),y.default.addClass(b,"active"),t.parentNode.appendChild(g),t.parentNode.appendChild(b)}function c(e){y.default.removeClass(e.target,"active"),y.default.removeClass(g,"active"),y.default.removeClass(b,"active")}var s,f=i/100,n=e.filter(function(e){return"number"==typeof e.start&&"number"==typeof e.total}).sort(function(e,t){return(e.start||0)-(t.start||0)}),o=0<d.length?d.reduce(function(e,t){return Math.max("number"==typeof e?e:0,v.default.getNodeTextWidth(v.default.newTextEl(t.name,"0")))}):0,p=25*(n.length+1),l=p+o+35,r=y.default.newTag("section",{class:"resource-timing water-fall-holder chart-holder"}),m=v.default.newEl("svg:svg",{height:Math.floor(l),class:"water-fall-chart"}),h=v.default.newEl("g",{class:"labels"}),g=v.default.newEl("line",{x1:"0",y1:"0",x2:"0",y2:p,class:"line-end"}),b=v.default.newEl("line",{x1:"0",y1:"0",x2:"0",y2:p,class:"line-start"});return m.appendChild(function(){for(var e=v.default.newEl("g",{class:"time-scale full-width"}),t=0,a=i/1e3,n=100/a;t<=a;t++){var o=v.default.newTextEl(t+"sec",p);a-.2<t?(o.setAttribute("x",n*t-.5+"%"),o.setAttribute("text-anchor","end")):o.setAttribute("x",n*t+.5+"%");var l=v.default.newEl("line",{x1:n*t+"%",y1:"0",x2:n*t+"%",y2:p});e.appendChild(l),e.appendChild(o)}return e}()),m.appendChild((s=v.default.newEl("g",{transform:"scale(1, 1)",class:"marker-holder"}),d.forEach(function(e,t){var a=e.startTime/f,n=v.default.newEl("g",{class:"mark-holder"}),o=v.default.newEl("g",{class:"line-holder"}),l=v.default.newEl("g",{class:"line-label-holder",x:a+"%"});e.x=a;var i=v.default.newTextEl(e.name,25+p);i.setAttribute("x",a+"%"),i.setAttribute("stroke",""),o.appendChild(v.default.newEl("line",{x1:a+"%",y1:0,x2:a+"%",y2:p})),d[t-1]&&e.x-d[t-1].x<1&&(i.setAttribute("x",d[t-1].x+1+"%"),e.x=d[t-1].x+1),o.appendChild(v.default.newEl("line",{x1:a+"%",y1:p,x2:e.x+"%",y2:23+p}));var r=!1;i.addEventListener("mouseenter",function(e){r||(r=!0,y.default.addClass(o,"active"),n.parentNode.appendChild(n))}),i.addEventListener("mouseleave",function(e){r=!1,y.default.removeClass(o,"active")}),l.appendChild(i),n.appendChild(v.default.newEl("title",{text:e.name+" ("+Math.round(e.startTime)+"ms)"})),n.appendChild(o),s.appendChild(n),n.appendChild(l)}),s)),t.forEach(function(e,t){m.appendChild(function(e){var t=v.default.newEl("rect",{width:(e.total||1)/f+"%",height:p,x:(e.start||.001)/f+"%",y:0,class:e.cssClass||"block-undefined"});return t.appendChild(v.default.newEl("title",{text:e.name})),t}(e))}),n.forEach(function(e,t){var a=e.total||1,n=25*t;m.appendChild(function t(e,a,n,o,l,i,r){var d,s=v.default.newEl("rect",{width:e/f+"%",height:a-1,x:Math.round(n/f*100)/100+"%",y:o,class:(r&&0<r.length?"time-block":"segment")+" "+(l||"block-undefined")});return i&&s.appendChild(v.default.newEl("title",{text:i})),s.addEventListener("mouseenter",u),s.addEventListener("mouseleave",c),r&&0<r.length?((d=v.default.newEl("g")).appendChild(s),r.forEach(function(e){0<e.total&&"number"==typeof e.start&&d.appendChild(t(e.total,8,e.start||.001,o,e.cssClass,e.name+" ("+Math.round(e.start)+"ms - "+Math.round(e.end)+"ms | total: "+Math.round(e.total)+"ms)"))}),d):s}(a,25,e.start||.001,n,e.cssClass,e.name+" ("+e.start+"ms - "+e.end+"ms | total: "+e.total+"ms)",e.segments));var o=v.default.newTextEl(e.name+" ("+Math.round(e.total)+"ms)",n+(e.segments?20:17));10<(e.total||1)/f&&v.default.getNodeTextWidth(o)<200?(o.setAttribute("class","inner-label"),o.setAttribute("x",(e.start||.001)/f+.5+"%"),o.setAttribute("width",a/f+"%")):(e.start||.001)/f+a/f<80?o.setAttribute("x",(e.start||.001)/f+a/f+.5+"%"):(o.setAttribute("x",(e.start||.001)/f-.5+"%"),o.setAttribute("text-anchor","end")),o.style.opacity=e.name.match(/js.map$/)?"0.5":"1",h.appendChild(o)}),m.appendChild(h),a&&r.appendChild(y.default.newTag("h1",{text:a})),r.appendChild(m),r};var l=o;a.default=l},{"../helpers/dom":9,"../helpers/svg":15}],18:[function(e,t,a){"use strict";var n=f(e("./data")),o=f(e("./helpers/iFrameHolder")),l=f(e("./components/summaryTiles")),i=f(e("./components/navigationTimeline")),r=f(e("./components/pieChart")),d=f(e("./components/table")),s=f(e("./components/resourcesTimeline")),u=f(e("./components/legend")),c=f(e("./components/pageMetric"));function f(e){return e&&e.__esModule?e:{default:e}}!function(){if("about:"!==location.protocol&&n.default.isValid()){o.default.setup(function(t){[l.default.init(),i.default.init(),r.default.init(),d.default.init(),s.default.init(),u.default.init(),c.default.init()].forEach(function(e){t(e)})})}}()},{"./components/legend":1,"./components/navigationTimeline":2,"./components/pageMetric":3,"./components/pieChart":4,"./components/resourcesTimeline":5,"./components/summaryTiles":6,"./components/table":7,"./data":8,"./helpers/iFrameHolder":11}],19:[function(e,t,a){"use strict";var n=l(e("./data")),o=l(e("./helpers/tableLogger"));function l(e){return e&&e.__esModule?e:{default:e}}o.default.logTable({name:"All loaded resources",data:n.default.allResourcesCalc,columns:["name","domain","fileType","initiatorType","fileExtension","loadtime","isRequestToHost","requestStartDelay","dns","tcp","ttfb","requestDuration","ssl"]}),o.default.logTables([{name:"Requests by domain",data:n.default.requestsByDomain},{name:"Requests by Initiator Type",data:n.default.initiatorTypeCounts,columns:["initiatorType","count","perc"]},{name:"Requests by Initiator Type (host/external domain)",data:n.default.initiatorTypeCountHostExt,columns:["initiatorType","count","perc"]},{name:"Requests by File Type",data:n.default.fileTypeCounts,columns:["fileType","count","perc"]}])},{"./data":8,"./helpers/tableLogger":16}]},{},[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19]);