/* https://github.com/micmro/performance-bookmarklet by Michael Mrowetz @MicMro
   build:04/08/2015 */
!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";var d=function(a){return a&&a.__esModule?a["default"]:a},e=(d(a("../data")),d(a("../helpers/helpers")),d(a("../helpers/dom"))),f=(d(a("../helpers/waterfall")),{}),g=function(a,b,c){var d=e.newTag("div",{"class":"legend-holder"});d.appendChild(e.newTag("h4",{text:b}));var f=e.newTag("dl",{"class":"legend "+a});return c.forEach(function(a){f.appendChild(e.newTag("dt",{"class":"colorBoxHolder",childElement:e.newTag("span",{},"background:"+a[1])})),f.appendChild(e.newTag("dd",{text:a[0]}))}),d.appendChild(f),d};f.init=function(){var a=e.newTag("section",{"class":"resource-timing water-fall-holder chart-holder"});a.appendChild(e.newTag("h3",{text:"Legend"}));var b=e.newTag("div",{"class":"legends-group "});return b.appendChild(g("initiator-type-legend","Block color: Initiator Type",[["css","#afd899"],["iframe","#85b3f2"],["img","#bc9dd6"],["script","#e7bd8c"],["link","#89afe6"],["swf","#4db3ba"],["xmlhttprequest","#e7d98c"]])),b.appendChild(g("navigation-legend","Navigation Timing",[["Redirect","#ffff60"],["App Cache","#1f831f"],["DNS Lookup","#1f7c83"],["TCP","#e58226"],["SSL Negotiation","#c141cd"],["Time to First Byte","#1fe11f"],["Content Download","#1977dd"],["DOM Processing","#9cc"],["DOM Content Loaded","#d888df"],["On Load","#c0c0ff"]])),b.appendChild(g("resource-legend","Resource Timing",[["Stalled/Blocking","#cdcdcd"],["Redirect","#ffff60"],["App Cache","#1f831f"],["DNS Lookup","#1f7c83"],["TCP","#e58226"],["SSL Negotiation","#c141cd"],["Initial Connection (TCP)","#e58226"],["Time to First Byte","#1fe11f"],["Content Download","#1977dd"]])),a.appendChild(b),a},b.exports=f},{"../data":7,"../helpers/dom":8,"../helpers/helpers":9,"../helpers/waterfall":15}],2:[function(a,b,c){"use strict";var d=function(a){return a&&a.__esModule?a["default"]:a},e=d(a("../data")),f=(d(a("../helpers/helpers")),d(a("../helpers/svg")),d(a("../helpers/dom")),d(a("../helpers/tableLogger"))),g=d(a("../helpers/waterfall")),h={};h.init=function(){var a=e.perfTiming.navigationStart,b={pageLoadTime:e.perfTiming.loadEventEnd-e.perfTiming.navigationStart,output:[]};for(var c in e.perfTiming)e.perfTiming[c]&&"number"==typeof e.perfTiming[c]&&(b[c]=e.perfTiming[c]-a,b.output.push({name:c,"time (ms)":e.perfTiming[c]-a}));return b.output.sort(function(a,b){return(a["time (ms)"]||0)-(b["time (ms)"]||0)}),b.blocks=[g.timeBlock("Total",0,b.pageLoadTime,"block-total"),g.timeBlock("Unload",b.unloadEventStart,b.unloadEventEnd,"block-unload"),g.timeBlock("Redirect ("+performance.navigation.redirectCount+"x)",b.redirectStart,b.redirectEnd,"block-redirect"),g.timeBlock("App cache",b.fetchStart,b.domainLookupStart,"block-appcache"),g.timeBlock("DNS",b.domainLookupStart,b.domainLookupEnd,"block-dns"),g.timeBlock("TCP",b.connectStart,b.connectEnd,"block-tcp"),g.timeBlock("Time to First Byte",b.requestStart,b.responseStart,"block-ttfb"),g.timeBlock("Response",b.responseStart,b.responseEnd,"block-response"),g.timeBlock("DOM Processing",b.domLoading,b.domComplete,"block-dom"),g.timeBlock("domContentLoaded Event",b.domContentLoadedEventStart,b.domContentLoadedEventEnd,"block-dom-content-loaded"),g.timeBlock("onload Event",b.loadEventStart,b.loadEventEnd,"block-onload")],b.secureConnectionStart&&b.blocks.push(g.timeBlock("SSL",b.connectStart,b.secureConnectionStart,"block-ssl")),b.msFirstPaint&&b.blocks.push(g.timeBlock("msFirstPaint Event",b.msFirstPaint,b.msFirstPaint,"block-ms-first-paint-event")),b.domInteractive&&b.blocks.push(g.timeBlock("domInteractive Event",b.domInteractive,b.domInteractive,"block-dom-interactive-event")),!b.redirectEnd&&!b.redirectStart&&b.fetchStart>b.navigationStart&&b.blocks.push(g.timeBlock("Cross-Domain Redirect (and/or other Delay)",b.navigationStart,b.fetchStart,"block-redirect")),b.blocks.push(g.timeBlock("Network/Server",b.navigationStart,b.responseStart,"block-network-server")),e.measures.forEach(function(a){b.blocks.push(g.timeBlock("measure:"+a.name,Math.round(a.startTime),Math.round(a.startTime+a.duration),"block-custom-measure"))}),f.logTables([{name:"Navigation Timeline",data:b.blocks,columns:["name","start","end","total"]},{name:"Navigation Events",data:b.output},{name:"Marks",data:e.marks,columns:["name","startTime","duration"]}]),g.setupTimeLine(Math.round(b.pageLoadTime),b.blocks,e.marks,[],"Navigation Timing")},b.exports=h},{"../data":7,"../helpers/dom":8,"../helpers/helpers":9,"../helpers/svg":13,"../helpers/tableLogger":14,"../helpers/waterfall":15}],3:[function(a,b,c){"use strict";var d=function(a){return a&&a.__esModule?a["default"]:a},e=d(a("../data")),f=d(a("../helpers/helpers")),g=(d(a("../helpers/svg")),d(a("../helpers/dom"))),h=d(a("../helpers/pieChartHelpers")),i={};i.init=function(){var a=g.newTag("div",{"class":"pie-charts-holder chart-holder"}),b=function(b,c,d,f,i){var j=g.newTag("div",{"class":"pie-chart-holder",id:i||""});j.appendChild(g.newTag("h1",{text:b})),j.appendChild(h.createPieChart(c,400)),j.appendChild(g.newTag("p",{text:"Total Requests: "+e.requestsOnly.length})),d&&d.length&&d.forEach(function(a){j.appendChild(g.newTag("p",{text:a},"margin-top:-1em"))}),j.appendChild(h.createChartTable(b,c,f)),a.appendChild(j)},c=e.requestsOnly.length/100,d="789abcdef",i="789abcdef",j="789abcdef",k=e.requestsByDomain.map(function(a){var b=f.clone(a);return b.perc=b.count/c,b.label=b.domain,b.domain===location.host?b.colour="#0c0":b.domain.split(".").slice(-2).join(".")===location.host.split(".").slice(-2).join(".")?b.colour="#0a0":b.colour=f.getRandomColor("56789abcdef","01234567","abcdef"),b.id="reqByDomain-"+b.label.replace(/[^a-zA-Z]/g,"-"),b.durationAverage=Math.round(b.durationTotal/b.count),b.durationTotal=Math.round(b.durationTotal),b.durationTotalParallel=Math.round(b.durationTotalParallel),b});return b("Requests by Domain",k,["Domains Total: "+e.requestsByDomain.length],[{name:"Requests",field:"count"},{name:"Avg. Duration (ms)",field:"durationAverage"},{name:"Duration Parallel (ms)",field:"durationTotalParallel"},{name:"Duration Sum (ms)",field:"durationTotal"}],"pie-request-by-domain"),b("Requests by Initiator Type",e.initiatorTypeCounts.map(function(a){return a.perc=a.count/c,a.label=a.initiatorType,a.colour=f.getInitiatorOrFileTypeColour(a.initiatorType,f.getRandomColor(d,i,j)),a.id="reqByInitiatorType-"+a.label.replace(/[^a-zA-Z]/g,"-"),a})),b("Requests by Initiator Type (host/external domain)",e.initiatorTypeCountHostExt.map(function(a){var b=a.initiatorType.split(" ");return a.perc=a.count/c,a.label=a.initiatorType,a.colour=f.getInitiatorOrFileTypeColour(b[0],f.getRandomColor(d,i,j),"(host)"!==b[1]),a.id="reqByInitiatorTypeLocEx-"+a.label.replace(/[^a-zA-Z]/g,"-"),a}),["Requests to Host: "+e.hostRequests,"Host: "+location.host]),b("Requests by File Type",e.fileTypeCounts.map(function(a){return a.perc=a.count/c,a.label=a.fileType,a.colour=f.getInitiatorOrFileTypeColour(a.fileType,f.getRandomColor(d,i,j)),a.id="reqByFileType-"+a.label.replace(/[^a-zA-Z]/g,"-"),a})),b("Requests by File Type (host/external domain)",e.fileTypeCountHostExt.map(function(a){var b=a.fileType.split(" ");return a.perc=a.count/c,a.label=a.fileType,a.colour=f.getInitiatorOrFileTypeColour(b[0],f.getRandomColor(d,i,j),"(host)"!==b[1]),a.id="reqByFileType-"+a.label.replace(/[^a-zA-Z]/g,"-"),a}),["Requests to Host: "+e.hostRequests,"Host: "+location.host]),a},b.exports=i},{"../data":7,"../helpers/dom":8,"../helpers/helpers":9,"../helpers/pieChartHelpers":11,"../helpers/svg":13}],4:[function(a,b,c){"use strict";var d=function(a){return a&&a.__esModule?a["default"]:a},e=d(a("../data")),f=(d(a("../helpers/helpers")),d(a("../helpers/dom"))),g=d(a("../helpers/waterfall")),h={},i=function(a){var b={pageLoadTime:e.perfTiming.loadEventEnd-e.perfTiming.responseStart,lastResponseEnd:e.perfTiming.loadEventEnd-e.perfTiming.responseStart};for(var c in e.perfTiming)e.perfTiming[c]&&"number"==typeof e.perfTiming[c]&&(b[c]=e.perfTiming[c]-e.perfTiming.navigationStart);var d=g.timeBlock("domContentLoaded Event",b.domContentLoadedEventStart,b.domContentLoadedEventEnd,"block-dom-content-loaded"),f=g.timeBlock("Onload Event",b.loadEventStart,b.loadEventEnd,"block-onload"),h=[g.timeBlock("Unload",b.unloadEventStart,b.unloadEventEnd,"block-unload"),g.timeBlock("Redirect",b.redirectStart,b.redirectEnd,"block-redirect"),g.timeBlock("App cache",b.fetchStart,b.domainLookupStart,"block-appcache"),g.timeBlock("DNS",b.domainLookupStart,b.domainLookupEnd,"block-dns"),g.timeBlock("TCP",b.connectStart,b.connectEnd,"block-tcp"),g.timeBlock("Timer to First Byte",b.requestStart,b.responseStart,"block-ttfb"),g.timeBlock("Response",b.responseStart,b.responseEnd,"block-response"),g.timeBlock("DOM Processing",b.domLoading,b.domComplete,"block-dom"),d,f];return b.secureConnectionStart&&h.push(g.timeBlock("SSL",b.connectStart,b.secureConnectionStart,"block-ssl")),b.msFirstPaint&&h.push(g.timeBlock("msFirstPaint Event",b.msFirstPaint,b.msFirstPaint,"block-ms-first-paint-event")),b.domInteractive&&h.push(g.timeBlock("domInteractive Event",b.domInteractive,b.domInteractive,"block-dom-interactive-event")),!b.redirectEnd&&!b.redirectStart&&b.fetchStart>b.navigationStart&&h.push(g.timeBlock("Cross-Domain Redirect",b.navigationStart,b.fetchStart,"block-redirect")),b.blocks=[g.timeBlock("Navigation API total",0,b.loadEventEnd,"block-navigation-api-total",h)],e.allResourcesCalc.filter(function(a){return a.startTime<b.loadEventEnd+15e3}).filter(a||function(){return!0}).forEach(function(a,c){var d=[g.timeBlock("Redirect",a.redirectStart,a.redirectEnd,"block-redirect"),g.timeBlock("DNS Lookup",a.domainLookupStart,a.domainLookupEnd,"block-dns"),g.timeBlock("Initial Connection (TCP)",a.connectStart,a.connectEnd,"block-dns"),g.timeBlock("secureConnect",a.secureConnectionStart||void 0,a.connectEnd,"block-ssl"),g.timeBlock("Timer to First Byte",a.requestStart,a.responseStart,"block-ttfb"),g.timeBlock("Content Download",a.responseStart||void 0,a.responseEnd,"block-response")],e=[0,a.redirectStart,a.domainLookupStart,a.connectStart,a.secureConnectionStart,a.requestStart,a.responseStart],f=e.reduce(function(b,c){return c>0&&(b>c||0>=b)&&c!=a.startTime?c:b});a.startTime<f&&d.unshift(g.timeBlock("Stalled/Blocking",a.startTime,f,"block-blocking")),b.blocks.push(g.timeBlock(a.name,a.startTime,a.responseEnd,"block-"+a.initiatorType,d,a)),b.lastResponseEnd=Math.max(b.lastResponseEnd,a.responseEnd)}),{loadDuration:Math.round(Math.max(b.lastResponseEnd,e.perfTiming.loadEventEnd-e.perfTiming.navigationStart)),blocks:b.blocks,bg:[d,f]}};h.init=function(){var a=i(),b=g.setupTimeLine(a.loadDuration,a.blocks,e.marks,a.bg,"Resource Timing");if(e.requestsByDomain.length>1){var c=f.newTag("select",{"class":"domain-selector",onchange:function(){var c=this.options[this.selectedIndex].value;a="all"===c?i():i(function(a){return a.domain===c});var d=g.setupTimeLine(a.loadDuration,a.blocks,e.marks,a.bg,"Temp"),f=b.getElementsByClassName("water-fall-chart")[0],h=d.getElementsByClassName("water-fall-chart")[0];b.replaceChild(h,f)}});c.appendChild(f.newTag("option",{text:"show all",value:"all"})),e.requestsByDomain.forEach(function(a){c.appendChild(f.newTag("option",{text:a.domain}))});var d=b.getElementsByClassName("water-fall-chart")[0];d.parentNode.insertBefore(c,d)}return b},b.exports=h},{"../data":7,"../helpers/dom":8,"../helpers/helpers":9,"../helpers/waterfall":15}],5:[function(a,b,c){"use strict";var d=function(a){return a&&a.__esModule?a["default"]:a},e=d(a("../data")),f=(d(a("../helpers/helpers")),d(a("../helpers/dom"))),g={};g.init=function(){var a=function(a,b,c){c=c||60;var d=f.newTag("dl",{"class":"summary-tile"});return d.appendChild(f.newTag("dt",{childElement:a})),d.appendChild(f.newTag("dd",{childElement:b},"font-size:"+c+"px;")),d},b=function(a,b,c){a.appendChild(f.newTag("dt",{childElement:b})),a.appendChild(f.newTag("dd",{text:c}))},c=f.newTag("section",{"class":"tiles-holder chart-holder"}),d=f.newTag("dl",{"class":"summary-tile-appendix"});return[a("Requests",e.requestsOnly.length||"0"),a("Domains",e.requestsByDomain.length||"0"),a(f.combineNodes("Subdomains of ",f.newTag("abbr",{title:"Top Level Domain",text:"TLD"})),e.hostSubdomains||"0"),a(f.combineNodes("Requests to ",f.newTag("span",{title:location.host,text:"Host"})),e.hostRequests||"0"),a(f.combineNodes(f.newTag("abbr",{title:"Top Level Domain",text:"TLD"}),"& Subdomain Requests"),e.currAndSubdomainRequests||"0"),a("Total",e.perfTiming.loadEventEnd-e.perfTiming.navigationStart+"ms",40),a("Time to First Byte",e.perfTiming.responseStart-e.perfTiming.navigationStart+"ms",40),a(f.newTag("span",{title:"domLoading to domContentLoadedEventStart",text:"DOM Content Loading"}),e.perfTiming.domContentLoadedEventStart-e.perfTiming.domLoading+"ms",40),a(f.newTag("span",{title:"domLoading to loadEventStart",text:"DOM Processing"}),e.perfTiming.domComplete-e.perfTiming.domLoading+"ms",40)].forEach(function(a){c.appendChild(a)}),e.allResourcesCalc.length>0&&(c.appendChild(a(f.newTag("span",{title:e.slowestCalls[0].name,text:"Slowest Call"}),f.newTag("span",{title:e.slowestCalls[0].name,text:Math.floor(e.slowestCalls[0].duration)+"ms"}),40)),c.appendChild(a("Average Call",e.average+"ms",40))),b(d,f.newTag("abbr",{title:"Top Level Domain",text:"TLD"},location.host.split(".").slice(-2).join("."))),b(d,f.newTextNode("Host:"),location.host),b(d,f.newTextNode("document.domain:"),document.domain),c.appendChild(d),c},b.exports=g},{"../data":7,"../helpers/dom":8,"../helpers/helpers":9}],6:[function(a,b,c){"use strict";var d=function(a){return a&&a.__esModule?a["default"]:a},e=d(a("../data")),f=(d(a("../helpers/helpers")),d(a("../helpers/dom"))),g={};g.init=function(){var a=e.requestsOnly.reduce(function(a,b){var c,d=a[b.fileType];return d||(d=a[b.fileType]={fileType:b.fileType,count:0,initiatorType:{},requestsToHost:0,requestsToExternal:0}),c=d.initiatorType[b.initiatorType],c||(c=d.initiatorType[b.initiatorType]={initiatorType:b.initiatorType,count:0,requestsToHost:0,requestsToExternal:0}),d.count++,c.count++,b.isRequestToHost?(d.requestsToHost++,c.requestsToHost++):(d.requestsToExternal++,c.requestsToExternal++),a},{}),b=f.newTag("section",{"class":"table-section-holder chart-holder"});return b.appendChild(f.newTag("h1",{text:"Request FileTypes & Initiators"})),b.appendChild(f.tableFactory("filetypes-and-intiators-table",function(a){return["FileType","Count","Count Internal","Count External","Initiator Type","Count by Initiator Type","Initiator Type Internal","Initiator Type External"].forEach(function(b){a.appendChild(f.newTag("th",{text:b,width:b.indexOf("ternal")>0?"12%":""}))}),a},function(b){return Object.keys(a).forEach(function(c,d){var e=a[c],g=Object.keys(e.initiatorType),h=e.initiatorType[g[0]],i=g.length,j=f.newTag("tr",{"class":"file-type-row "+(e.fileType||"other")+"-light"});[e.fileType,e.count,e.requestsToHost,e.requestsToExternal,h.initiatorType,h.count,h.requestsToHost,h.requestsToExternal].forEach(function(a,b){var c={text:a};4>b&&g.length>1?c.rowSpan=i:b>=4&&(c["class"]=(g[0]||"other")+"-light"),j.appendChild(f.newTag("td",c))}),b.appendChild(j),g.slice(1).forEach(function(a){var c=e.initiatorType[a],d=f.newTag("tr",{"class":"initiator-type-more "+(a||"other")+"-light"});d.appendChild(f.newTag("td",{text:a})),d.appendChild(f.newTag("td",{text:c.count})),d.appendChild(f.newTag("td",{text:c.requestsToHost})),d.appendChild(f.newTag("td",{text:c.requestsToExternal})),b.appendChild(d)})}),b})),b},b.exports=g},{"../data":7,"../helpers/dom":8,"../helpers/helpers":9}],7:[function(a,b,c){"use strict";var d=function(a){return a&&a.__esModule?a["default"]:a},e=d(a("./helpers/helpers")),f=d(a("./pageMetric")),g={resources:[],marks:[],measures:[],perfTiming:[],allResourcesCalc:[]},h=!0;if(g.isValid=function(){return h},window.performance&&void 0!==window.performance.getEntriesByType)g.resources=window.performance.getEntriesByType("resource"),g.marks=window.performance.getEntriesByType("mark"),g.measures=window.performance.getEntriesByType("measure");else{if(!window.performance||void 0===window.performance.webkitGetEntriesByType)return alert("Oups, looks like this browser does not support the Resource Timing API\ncheck http://caniuse.com/#feat=resource-timing to see the ones supporting it \n\n"),void(h=!1);g.resources=window.performance.webkitGetEntriesByType("resource"),g.marks=window.performance.webkitGetEntriesByType("mark"),g.measures=window.performance.webkitGetEntriesByType("measure")}if(!window.performance.timing)return alert("Oups, looks like this browser does not support performance timing"),void(h=!1);if(g.perfTiming=window.performance.timing,g.perfTiming.loadEventEnd-g.perfTiming.navigationStart<0)return alert("Page is still loading - please try again when page is loaded."),void(h=!1);g.allResourcesCalc=g.resources.filter(function(a){return!a.name.match(/http[s]?\:\/\/(micmro|nurun).github.io\/performance-bookmarklet\/.*/)}).map(function(a,b,c){var d,f,g,h=0===a.name.indexOf("http");h?(d=a.name.match(/:\/\/(.[^/]+)([^?]*)\??(.*)/),f=d[2].split("/").pop(),g=f.substr((Math.max(0,f.lastIndexOf("."))||1/0)+1)):(d=["",location.host],g=a.name.split(":")[0]);var i={name:a.name,domain:d[1],initiatorType:a.initiatorType||g||"SourceMap or Not Defined",fileExtension:g||"XHR or Not Defined",loadtime:a.duration,fileType:e.getFileType(g,a.initiatorType),isRequestToHost:d[1]===location.host};for(var j in a)"function"!=typeof a[j]&&(i[j]=a[j]);return a.requestStart&&(i.requestStartDelay=a.requestStart-a.startTime,i.dns=a.domainLookupEnd-a.domainLookupStart,i.tcp=a.connectEnd-a.connectStart,i.ttfb=a.responseStart-a.startTime,i.requestDuration=a.responseStart-a.requestStart),a.secureConnectionStart&&(i.ssl=a.connectEnd-a.secureConnectionStart),i}),g.requestsOnly=g.allResourcesCalc.filter(function(a){return 0===a.name.indexOf("http")&&!a.name.match(/js.map$/)}),g.initiatorTypeCounts=e.getItemCount(g.requestsOnly.map(function(a,b,c){return a.initiatorType||a.fileExtension}),"initiatorType"),g.initiatorTypeCountHostExt=e.getItemCount(g.requestsOnly.map(function(a,b,c){return(a.initiatorType||a.fileExtension)+" "+(a.isRequestToHost?"(host)":"(external)")}),"initiatorType"),g.requestsByDomain=e.getItemCount(g.requestsOnly.map(function(a,b,c){return a.domain}),"domain"),g.fileTypeCountHostExt=e.getItemCount(g.requestsOnly.map(function(a,b,c){return a.fileType+" "+(a.isRequestToHost?"(host)":"(external)")}),"fileType"),g.fileTypeCounts=e.getItemCount(g.requestsOnly.map(function(a,b,c){return a.fileType}),"fileType");var i={};g.requestsOnly.forEach(function(a){var b=g.requestsByDomain.filter(function(b){return b.domain==a.domain})[0]||{},c=i[a.domain]||0;a.duration=b.duration||a.responseEnd-a.startTime,c<=a.startTime?b.durationTotalParallel=(b.durationTotalParallel||0)+a.duration:c<a.responseEnd&&(b.durationTotalParallel=(b.durationTotalParallel||0)+(a.responseEnd-c)),i[a.domain]=a.responseEnd||0,b.durationTotal=(b.durationTotal||0)+a.duration}),g.hostRequests=g.requestsOnly.filter(function(a){return a.domain===location.host}).length,g.currAndSubdomainRequests=g.requestsOnly.filter(function(a){return a.domain.split(".").slice(-2).join(".")===location.host.split(".").slice(-2).join(".")}).length,g.crossDocDomainRequests=g.requestsOnly.filter(function(a){return!e.endsWith(a.domain,document.domain)}).length,g.hostSubdomains=g.requestsByDomain.filter(function(a){return e.endsWith(a.domain,location.host.split(".").slice(-2).join("."))&&a.domain!==location.host}).length,g.slowestCalls=[],g.average=void 0,g.allResourcesCalc.length>0&&(g.slowestCalls=g.allResourcesCalc.filter(function(a){return a.name!==location.href}).sort(function(a,b){return b.duration-a.duration}),g.average=Math.floor(g.slowestCalls.reduceRight(function(a,b){return"number"!=typeof a?a.duration+b.duration:a+b.duration})/g.slowestCalls.length)),g.save=function(){var a=new f({page:window.location.href,contentLoading:g.perfTiming.domContentLoadedEventStart-g.perfTiming.domLoading,loadStart:g.perfTiming.domComplete-g.perfTiming.domLoading,firstByte:g.perfTiming.responseStart-g.perfTiming.navigationStart,total:g.perfTiming.loadEventEnd-g.perfTiming.navigationStart});a.save()},b.exports=g},{"./helpers/helpers":9,"./pageMetric":18}],8:[function(a,b,c){"use strict";var d={};d.newTextNode=function(a){return document.createTextNode(a)},d.newTag=function(a,b,c){b=b||{};var e=document.createElement(a);for(var f in b)"text"!=f&&(e[f]=b[f]);return b.text?e.textContent=b.text:b.childElement&&("object"==typeof b.childElement?b.childElement instanceof NodeList?Array.prototype.slice.call(b.childElement,0).forEach(function(a){e.appendChild(a)}):e.appendChild(b.childElement):e.appendChild(d.newTextNode(b.childElement))),b["class"]&&(e.className=b["class"]),e.style.cssText=c||"",e},d.tableFactory=function(a,b,c){var e=d.newTag("div",{id:a||"","class":"table-holder"}),f=d.newTag("table"),g=d.newTag("thead");return g.appendChild(b(d.newTag("tr"))),f.appendChild(g),f.appendChild(c(d.newTag("tbody"))),e.appendChild(f),e},d.combineNodes=function(a,b){var c=document.createElement("div");return"object"==typeof a?c.appendChild(a):"string"==typeof a&&c.appendChild(d.newTextNode(a)),"object"==typeof b?c.appendChild(b):"string"==typeof b&&c.appendChild(d.newTextNode(b)),c.childNodes},d.addClass=function(a,b){return a.classList?a.classList.add(b):a.setAttribute("class",a.getAttribute("class")+" "+b),a},d.removeClass=function(a,b){return a.classList?a.classList.remove(b):a.setAttribute("class",a.getAttribute("class").replace(new RegExp("(\\s|^)"+b+"(\\s|$)","g"),"$2")),a},b.exports=d},{}],9:[function(a,b,c){"use strict";var d={};d.getFileType=function(a,b){if(a)switch(a){case"jpg":case"jpeg":case"png":case"gif":case"webp":case"svg":case"ico":return"image";case"js":return"js";case"css":return"css";case"html":return"html";case"woff":case"woff2":case"ttf":case"eot":case"otf":return"font";case"swf":return"flash";case"map":return"source-map"}if(b)switch(b){case"xmlhttprequest":return"ajax";case"img":return"image";case"script":return"js";case"internal":case"iframe":return"html";default:return"other"}return b},d.getRandomColor=function(a,b,c){for(var d=[a||"0123456789ABCDEF",b||"0123456789ABCDEF",c||"0123456789ABCDEF"],e="#",f=0,g=0;6>g;g++)f=Math.floor(g/2),e+=d[f].split("")[Math.floor(Math.random()*d[f].length)];return e},d.endsWith=function(a,b){return-1!==a.indexOf(b,a.length-b.length)};var e=function(a,b){var c=(parseInt(a.substr(1,2),16)+b).toString(16),d=(parseInt(a.substr(3,2),16)+b).toString(16),e=(parseInt(a.substr(5,2),16)+b).toString(16);return"#"+c+d+e};d.getInitiatorOrFileTypeColour=function(a,b,c){var d=b||"#bebebe";switch(a){case"css":d="#afd899";break;case"iframe":case"html":d="#85b3f2";break;case"img":case"image":d="#bc9dd6";break;case"script":case"js":d="#e7bd8c";break;case"link":d="#89afe6";break;case"swf":d="#4db3ba";break;case"font":d="#e96859";break;case"xmlhttprequest":case"ajax":d="#e7d98c"}return c===!0?e(d,-5):d},d.getItemCount=function(a,b){var c,d={},e=[];a.forEach(function(a){d[a]=d[a]?d[a]+1:1});for(var f in d)c={},c[b||"key"]=f,c.count=d[f],e.push(c);return e.sort(function(a,b){return a.count<b.count?1:-1})},d.clone=function(a){var b;if(null==a||"object"!=typeof a)return a;if(a instanceof Date)return b=new Date,b.setTime(a.getTime()),b;if(a instanceof Array){b=[];for(var c=0,e=a.length;e>c;c++)b[c]=d.clone(a[c]);return b}if(a instanceof Object){b={};for(var f in a)a.hasOwnProperty(f)&&(b[f]=d.clone(a[f]));return b}throw new Error("Unable to helper.clone obj")},b.exports=d},{}],10:[function(a,b,c){"use strict";var d,e,f,g,h=function(a){return a&&a.__esModule?a["default"]:a},i=h(a("../helpers/dom")),j=a("../helpers/style").style,k={},l=function(){if(f)for(g=e.getElementById("perfbook-content");g.firstChild;)g.removeChild(g.firstChild);else{f=i.newTag("div",{id:"perfbook-holder"}),g=i.newTag("div",{id:"perfbook-content"}),window.outputContent;var a=i.newTag("button",{"class":"perfbook-close",text:"close"});a.addEventListener("click",function(){d.parentNode.removeChild(d)}),f.appendChild(a),f.appendChild(g)}},m=function(a){g.appendChild(a)};k.setup=function(a){d=document.getElementById("perfbook-iframe");var b=function(){l(),a(m),e.body.appendChild(f),"hidden"!=getComputedStyle(document.body).overflow?d.style.height=f.clientHeight+36+"px":d.style.height="100%"};d?(e=d.contentWindow.document,f=e.getElementById("perfbook-holder"),l(),a(m),b()):(d=i.newTag("iframe",{id:"perfbook-iframe",onload:function(){e=d.contentWindow.document;var a=i.newTag("style",{type:"text/css",text:j});e.head.appendChild(a),b()}},"position:absolute; top:1%; right:1%; margin-bottom:1em; left:1%; z-index:6543210; width:98%; border:0; box-shadow:0 0 25px 0 rgba(0,0,0,0.5); background:#fff;"),document.body.appendChild(d))},k.getOutputIFrame=function(){return e},b.exports=k},{"../helpers/dom":8,"../helpers/style":12}],11:[function(a,b,c){"use strict";var d=function(a){return a&&a.__esModule?a["default"]:a},e=(d(a("../data")),d(a("../helpers/helpers"))),f=d(a("../helpers/svg")),g=d(a("../helpers/dom")),h={},i=2*Math.PI/100,j=function(a,b,c,d,e,g){var h=b/2,j=c+(d*i-.001),k=c+(d/2*i-.001),l=h+h*Math.sin(c),m=h-h*Math.cos(c),n=h+h*Math.sin(j),o=h-h*Math.cos(j),p=h+.85*h*Math.sin(k),q=h-.85*h*Math.cos(k),r=j-c>Math.PI?1:0,s="M "+h+","+h+" L "+l+","+m+" A "+h+","+h+" 0 "+r+" 1 "+n+","+o+" Z",t=f.newEl("path",{id:a,d:s,fill:g});if(t.appendChild(f.newEl("title",{text:e})),t.addEventListener("mouseenter",function(a){a.target.style.opacity="0.5",a.target.ownerDocument.getElementById(a.target.getAttribute("id")+"-table").style.backgroundColor="#ccc"}),t.addEventListener("mouseleave",function(a){a.target.style.opacity="1",a.target.ownerDocument.getElementById(a.target.getAttribute("id")+"-table").style.backgroundColor="transparent"}),d>10){var u=f.newTextEl(e,q);return k<Math.PI?u.setAttribute("x",p-f.getNodeTextWidth(u)):u.setAttribute("x",p),{path:t,wedgeLabel:u,endAngle:j}}return{path:t,endAngle:j}},k=function(){var a=.98*window.innerWidth-64;return 700>a?350:800>a?a/2-72:a/3-72}();h.createPieChart=function(a,b){var c=0,d=f.newEl("svg:svg",{viewBox:"0 0 "+b+" "+b,"class":"pie-chart"},"max-height:"+k+"px;"),g=f.newEl("g",{},"pointer-events:none; font-weight:bold;"),h=f.newEl("g");return a.forEach(function(a){var d=j(a.id,b,c,a.perc,a.label+" ("+a.count+")",a.colour||e.getRandomColor());h.appendChild(d.path),c=d.endAngle,d.wedgeLabel&&g.appendChild(d.wedgeLabel)}),h.appendChild(f.newEl("circle",{cx:b/2,cy:b/2,r:.05*b,fill:"#fff"})),d.appendChild(h),d.appendChild(g),d},h.createChartTable=function(a,b,c){return c=c||[{name:"Requests",field:"count"}],g.tableFactory("",function(b){return b.appendChild(g.newTag("th",{text:a,"class":"text-left"})),c.forEach(function(a){b.appendChild(g.newTag("th",{text:a.name,"class":"text-right"}))}),b.appendChild(g.newTag("th",{text:"Percentage","class":"text-right"})),b},function(a){return b.forEach(function(b){var d=g.newTag("tr",{id:b.id+"-table"});d.appendChild(g.newTag("td",{text:b.label})),c.forEach(function(a){d.appendChild(g.newTag("td",{text:b[a.field].toString(),"class":"text-right"}))}),d.appendChild(g.newTag("td",{text:b.perc.toPrecision(2)+"%","class":"text-right"})),a.appendChild(d)}),a})},b.exports=h},{"../data":7,"../helpers/dom":8,"../helpers/helpers":9,"../helpers/svg":13}],12:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d="body {overflow: auto; background: #fff; font:normal 12px/18px sans-serif; color:#333;} * {box-sizing:border-box;} svg {font:normal 12px/18px sans-serif;} th {text-align: left;} #perfbook-holder {overflow: hidden; width:100%; padding:1em 2em;} #perfbook-content {position:relative;} .perfbook-close {position:absolute; top:0; right:0; padding:1em; z-index:1; background:transparent; border:0; cursor:pointer;} .full-width {width:100%;} .chart-holder {margin: 5em 0;} h1 {font:bold 18px/18px sans-serif; margin:1em 0; color:#666;} .text-right {text-align: right;} .text-left {text-align: left;} .css {background: #afd899;} .iframe, .html, .internal {background: #85b3f2;} .img, .image {background: #bc9dd6;} .script, .js {background: #e7bd8c;} .link {background: #89afe6;} .swf, .flash {background: #4db3ba;} .font {background: #e96859;} .xmlhttprequest, .ajax {background: #e7d98c;} .other {background: #bebebe;} .css-light {background: #b9cfa0;} .iframe-light, .html-light, .internal-light {background: #c2d9f9;} .img-light, .image-light {background: #deceeb;} .script-light, .js-light {background: #f3dec6;} .link-light {background: #c4d7f3;} .swf-light, .flash-light {background: #a6d9dd;} .font-light {background: #f4b4ac;} .xmlhttprequest-light, .ajax-light {background: #f3ecc6;} .other-light {background: #dfdfdf;} .block-css {fill: #afd899;} .block-iframe, .block-html, .block-internal {fill: #85b3f2;} .block-img, .block-image {fill: #bc9dd6;} .block-script, .block-js {fill: #e7bd8c;} .block-link {fill: #89afe6;} .block-swf, .block-flash {fill: #4db3ba;} .block-font {fill: #e96859;} .block-xmlhttprequest, .block-ajax {fill: #e7d98c;} .block-other {fill: #bebebe;} .block-total {fill: #ccc;} .block-unload {fill: #909;} .block-redirect {fill: #ffff60;} .block-appcache {fill: #1f831f;} .block-dns {fill: #1f7c83;} .block-tcp {fill: #e58226;} .block-ttfb {fill: #1fe11f;} .block-response {fill: #1977dd;} .block-dom {fill: #9cc;} .block-dom-content-loaded {fill: #d888df;} .block-onload {fill: #c0c0ff;} .block-ssl {fill: #c141cd; } .block-ms-first-paint-event {fill: #8fbc83; } .block-dom-interactive-event {fill: #d888df; } .block-network-server {fill: #8cd18c; } .block-custom-measure {fill: #f00; } .block-navigation-api-total {fill: #ccc;} .block-blocking {fill: #cdcdcd;} .block-undefined {fill: #0f0;} .tiles-holder {margin: 2em -18px 2em 0; display: -webkit-box; display: -moz-box; display: -ms-flexbox; display: -webkit-flex; display: flex; -webkit-flex-flow: row wrap; flex-flow: row wrap; } .summary-tile { flex-grow: 1; width:250px; background:#ddd; padding: 1em; margin:0 18px 1em 0; color:#666; text-align:center;} .summary-tile dt {font-weight:bold; font-size:16px; display:block; line-height:1.2em; min-height:2.9em; padding:0 0 0.5em;} .summary-tile dd {font-weight:bold; line-height:60px; margin:0;} .summary-tile-appendix {float:left; clear:both; width:100%; font-size:10px; line-height:1.1em; color:#666;} .summary-tile-appendix dt {float:left; clear:both;} .summary-tile-appendix dd {float:left; margin:0 0 0 1em;} .pie-charts-holder {margin-right: -72px; display: -webkit-box; display: -moz-box; display: -ms-flexbox; display: -webkit-flex; display: flex; -webkit-flex-flow: row wrap; flex-flow: row wrap;} .pie-chart-holder {flex-grow: 1; width:350px; max-width: 600px; margin: 0 72px 0 0;} .pie-chart-holder h1 {min-height:2em;} .pie-chart {width:100%;} .table-holder {overflow-x:auto} .table-holder table {float:left; width:100%; font-size:12px; line-height:18px;} .table-holder th, .table-holder td {line-height: 1em; margin:0; padding:0.25em 0.5em 0.25em 0;} #pie-request-by-domain {flex-grow: 2; width:772px; max-width: 1272px;} #filetypes-and-intiators-table {margin: 2em 0 5em;} #filetypes-and-intiators-table table {vertical-align: middle; border-collapse: collapse;} #filetypes-and-intiators-table td {padding:0.5em; border-right: solid 1px #fff;} #filetypes-and-intiators-table td:last-child {padding-right: 0; border-right:0;} #filetypes-and-intiators-table .file-type-row td {border-top: solid 10px #fff;} #filetypes-and-intiators-table .file-type-row:first-child td {border-top: none;} .water-fall-holder {fill:#ccc;} .water-fall-chart {width:100%; background:#f0f5f0;} .water-fall-chart .marker-holder {width:100%;} .water-fall-chart .line-holder {stroke-width:1; stroke: #ccc; stroke-opacity:0.5;} .water-fall-chart .line-holder.active {stroke: #69009e; stroke-width:2; stroke-opacity:1;} .water-fall-chart .labels {width:100%;} .water-fall-chart .labels .inner-label {pointer-events: none;} .water-fall-chart .time-block.active {opacity: 0.8;} .water-fall-chart .line-end, .water-fall-chart .line-start {display: none; stroke-width:1; stroke-opacity:0.5; stroke: #000;} .water-fall-chart .line-end.active, .water-fall-chart .line-start.active {display: block;} .water-fall-chart .mark-holder text {-webkit-writing-mode: tb; writing-mode:vertical-lr; writing-mode: tb;} .time-scale line {stroke:#0cc; stroke-width:1;} .time-scale text {font-weight:bold;} .domain-selector {float:right; margin: -35px 0 0 0;} .navigation-timing {} .legends-group { display: -webkit-box; display: -moz-box; display: -ms-flexbox; display: -webkit-flex; display: flex; -webkit-flex-flow: row wrap; flex-flow: row wrap; } .legends-group .legend-holder { flex-grow: 1; width:250px; padding:0 1em 1em; } .legends-group .legend-holder h4 { margin: 0; padding: 0; } .legend dt {float: left; clear: left; padding: 0 0 0.5em;} .legend dd {float: left; display: inline-block; margin: 0 1em; line-height: 1em;} .legend .colorBoxHolder span {display: inline-block; width: 15px; height: 1em;}";
c.style=d},{}],13:[function(a,b,c){"use strict";var d=a("../helpers/iFrameHolder").getOutputIFrame,e={};e.newEl=function(a,b,c){var d=document.createElementNS("http://www.w3.org/2000/svg",a);b=b||{};for(var e in b)"text"!=e&&d.setAttributeNS(null,e,b[e]);return d.textContent=b.text||"",d.style.cssText=c||"",d},e.newTextEl=function(a,b,c){return e.newEl("text",{fill:"#111",y:b,text:a},(c||"")+" text-shadow:0 0 4px #fff;")},e.getNodeTextWidth=function(a){var b=e.newEl("svg:svg",{},"visibility:hidden;");b.appendChild(a),d().body.appendChild(b);var c=a.getBBox().width;return b.parentNode.removeChild(b),c},b.exports=e},{"../helpers/iFrameHolder":10}],14:[function(a,b,c){"use strict";var d={};d.logTable=function(a){a.data.length>0&&console.table&&(console.log("\n\n\n"+a.name+":"),console.table(a.data,a.columns))},d.logTables=function(a){a.forEach(d.logTable)},b.exports=d},{}],15:[function(a,b,c){"use strict";var d=function(a){return a&&a.__esModule?a["default"]:a},e=d(a("../helpers/svg")),f=d(a("../helpers/dom")),g={};g.timeBlock=function(a,b,c,d,e,f){return{name:a,start:b,end:c,total:"number"!=typeof b||"number"!=typeof c?void 0:c-b,cssClass:d,segments:e,rawResource:f}},g.setupTimeLine=function(a,b,c,d,g){var h=a/100,i=b.filter(function(a){return"number"==typeof a.start&&"number"==typeof a.total}).sort(function(a,b){return(a.start||0)-(b.start||0)}),j=c.length>0?c.reduce(function(a,b){return Math.max("number"==typeof a?a:0,e.getNodeTextWidth(e.newTextEl(b.name,"0")))}):0,k=25*(i.length+1),l=k+j+35,m=f.newTag("section",{"class":"resource-timing water-fall-holder chart-holder"}),n=e.newEl("svg:svg",{height:Math.floor(l),"class":"water-fall-chart"}),o=e.newEl("g",{"class":"labels"}),p=e.newEl("line",{x1:"0",y1:"0",x2:"0",y2:k,"class":"line-end"}),q=e.newEl("line",{x1:"0",y1:"0",x2:"0",y2:k,"class":"line-start"}),r=function(a){var b=a.target;f.addClass(b,"active");var c=b.x.baseVal.valueInSpecifiedUnits+b.width.baseVal.valueInSpecifiedUnits+"%",d=b.x.baseVal.valueInSpecifiedUnits+"%";p.x1.baseVal.valueAsString=c,p.x2.baseVal.valueAsString=c,q.x1.baseVal.valueAsString=d,q.x2.baseVal.valueAsString=d,f.addClass(p,"active"),f.addClass(q,"active"),b.parentNode.appendChild(p),b.parentNode.appendChild(q)},s=function(a){f.removeClass(a.target,"active"),f.removeClass(p,"active"),f.removeClass(q,"active")},t=function(a){var b=function(b,c,d,e,f,g,h){return a.apply(this,arguments)};return b.toString=function(){return a.toString()},b}(function(a,b,c,d,f,g,i){var j,k=e.newEl("rect",{width:a/h+"%",height:b-1,x:Math.round(c/h*100)/100+"%",y:d,"class":(i&&i.length>0?"time-block":"segment")+" "+(f||"block-undefined")});return g&&k.appendChild(e.newEl("title",{text:g})),k.addEventListener("mouseenter",r),k.addEventListener("mouseleave",s),i&&i.length>0?(j=e.newEl("g"),j.appendChild(k),i.forEach(function(a){a.total>0&&"number"==typeof a.start&&j.appendChild(t(a.total,8,a.start||.001,d,a.cssClass,a.name+" ("+Math.round(a.start)+"ms - "+Math.round(a.end)+"ms | total: "+Math.round(a.total)+"ms)"))}),j):k}),u=function(a){var b=e.newEl("rect",{width:(a.total||1)/h+"%",height:k,x:(a.start||.001)/h+"%",y:0,"class":a.cssClass||"block-undefined"});return b.appendChild(e.newEl("title",{text:a.name})),b},v=function(){for(var b=e.newEl("g",{"class":"time-scale full-width"}),c=0,d=a/1e3,f=100/d;d>=c;c++){var g=e.newTextEl(c+"sec",k);c>d-.2?(g.setAttribute("x",f*c-.5+"%"),g.setAttribute("text-anchor","end")):g.setAttribute("x",f*c+.5+"%");var h=e.newEl("line",{x1:f*c+"%",y1:"0",x2:f*c+"%",y2:k});b.appendChild(h),b.appendChild(g)}return b},w=function(){var a=e.newEl("g",{transform:"scale(1, 1)","class":"marker-holder"});return c.forEach(function(b,d){var g=b.startTime/h,i=e.newEl("g",{"class":"mark-holder"}),j=e.newEl("g",{"class":"line-holder"}),l=e.newEl("g",{"class":"line-lable-holder",x:g+"%"});b.x=g;var m=e.newTextEl(b.name,k+25);m.setAttribute("x",g+"%"),m.setAttribute("stroke",""),j.appendChild(e.newEl("line",{x1:g+"%",y1:0,x2:g+"%",y2:k})),c[d-1]&&b.x-c[d-1].x<1&&(m.setAttribute("x",c[d-1].x+1+"%"),b.x=c[d-1].x+1),j.appendChild(e.newEl("line",{x1:g+"%",y1:k,x2:b.x+"%",y2:k+23}));var n=!1,o=function(a){n||(n=!0,f.addClass(j,"active"),i.parentNode.appendChild(i))},p=function(a){n=!1,f.removeClass(j,"active")};m.addEventListener("mouseenter",o),m.addEventListener("mouseleave",p),l.appendChild(m),i.appendChild(e.newEl("title",{text:b.name+" ("+Math.round(b.startTime)+"ms)"})),i.appendChild(j),a.appendChild(i),i.appendChild(l)}),a};return n.appendChild(v()),n.appendChild(w()),d.forEach(function(a,b){n.appendChild(u(a))}),i.forEach(function(a,b){var c=a.total||1,d=25*b;n.appendChild(t(c,25,a.start||.001,d,a.cssClass,a.name+" ("+a.start+"ms - "+a.end+"ms | total: "+a.total+"ms)",a.segments));var f=e.newTextEl(a.name+" ("+Math.round(a.total)+"ms)",d+(a.segments?20:17));(a.total||1)/h>10&&e.getNodeTextWidth(f)<200?(f.setAttribute("class","inner-label"),f.setAttribute("x",(a.start||.001)/h+.5+"%"),f.setAttribute("width",c/h+"%")):(a.start||.001)/h+c/h<80?f.setAttribute("x",(a.start||.001)/h+c/h+.5+"%"):(f.setAttribute("x",(a.start||.001)/h-.5+"%"),f.setAttribute("text-anchor","end")),f.style.opacity=a.name.match(/js.map$/)?"0.5":"1",o.appendChild(f)}),n.appendChild(o),g&&m.appendChild(f.newTag("h1",{text:g})),m.appendChild(n),m},b.exports=g},{"../helpers/dom":8,"../helpers/svg":13}],16:[function(a,b,c){"use strict";var d=function(a){return a&&a.__esModule?a["default"]:a},e=d(a("./data")),f=d(a("./helpers/iFrameHolder")),g=d(a("./components/summaryTiles")),h=d(a("./components/navigationTimeline")),i=d(a("./components/pieChart")),j=d(a("./components/table")),k=d(a("./components/resourcesTimeline")),l=d(a("./components/legend")),m=(d(a("./logger")),d(a("./pageMetric")));if("about:"!==location.protocol&&e.isValid()){var n=function(a){[g.init(),h.init(),i.init(),j.init(),k.init(),l.init()].forEach(function(b){a(b)})};f.setup(n),e.save();var o={};o.PageMetric=m,window.PerformanceBookmarklet=o}},{"./components/legend":1,"./components/navigationTimeline":2,"./components/pieChart":3,"./components/resourcesTimeline":4,"./components/summaryTiles":5,"./components/table":6,"./data":7,"./helpers/iFrameHolder":10,"./logger":17,"./pageMetric":18}],17:[function(a,b,c){"use strict";var d=function(a){return a&&a.__esModule?a["default"]:a},e=d(a("./data")),f=d(a("./helpers/tableLogger"));f.logTable({name:"All loaded resources",data:e.allResourcesCalc,columns:["name","domain","fileType","initiatorType","fileExtension","loadtime","isRequestToHost","requestStartDelay","dns","tcp","ttfb","requestDuration","ssl"]}),f.logTables([{name:"Requests by domain",data:e.requestsByDomain},{name:"Requests by Initiator Type",data:e.initiatorTypeCounts,columns:["initiatorType","count","perc"]},{name:"Requests by Initiator Type (host/external domain)",data:e.initiatorTypeCountHostExt,columns:["initiatorType","count","perc"]},{name:"Requests by File Type",data:e.fileTypeCounts,columns:["fileType","count","perc"]}])},{"./data":7,"./helpers/tableLogger":14}],18:[function(a,b,c){"use strict";var d=function(){function a(a,b){for(var c in b){var d=b[c];d.configurable=!0,d.value&&(d.writable=!0)}Object.defineProperties(a,b)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),e=function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")},f=function(){function a(b){e(this,a),this.page=b.page,this.contentLoading=b.contentLoading,this.loadStart=b.loadStart,this.firstByte=b.firstByte,this.total=b.total}return d(a,{save:{value:function(){var a=this.constructor,b=a.load();b.push(this),localStorage.setItem(this.storageKey,JSON.stringify(b))}},toDelimitedValue:{value:function(){var a=this,b=void 0===arguments[0]?"	":arguments[0],c="",d=this.constructor;return d.prototype.csvColumns.forEach(function(d,e){e&&(c+=b),c+=a[d]}),c}}},{storageKey:{value:function(){return this.__proto__.storageKey}},load:{value:function(){return JSON.parse(localStorage.getItem(this.prototype.storageKey))||new Array}},dump:{value:function(){var a=void 0===arguments[0]?"	":arguments[0],b=void 0===arguments[1]?!0:arguments[1],c=this,d=c.prototype.storageKey,e=c.load();if(0===e.length)return void console.log("There are no page metrics. Try refreshing the page and/or reloading the bookmarklet.");b===!0&&(localStorage.removeItem(d),console.log("Storage for %s has been cleared",d));var f=c.prototype.csvColumns.join(a)+"\n";e.forEach(function(b){var d=new c(b);f+=d.toDelimitedValue(a),f+="\n"}),console.log(f)}}}),a}();f.prototype.csvColumns=["page","contentLoading","loadStart","firstByte","total"],f.prototype.storageKey="performance-bookmarklet-metrics",b.exports=f},{}]},{},[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18]);